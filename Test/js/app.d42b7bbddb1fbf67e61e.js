webpackJsonp([1],Array(133).concat([function(e,t){},,function(e,t,i){"use strict";floorcast.classes.event.HandlerManager=function(){var e=[];return{listeners:e,notifyListeners:function(){if(!this.listeners)return!1;for(var t=Array.prototype.slice.call(arguments),i=0,n=e.length;i<n;i++){var s=e[i];s.callback.apply(s.context,t)}return this},addListener:function(t){return e.push({context:this,callback:t}),this}}}},function(e,t,i){"use strict";floorcast.classes.event.Mediator=function(){var e={},t=function(t,i){return e[t]||(e[t]=[]),e[t].push({context:this,callback:i}),this},i=function(t){if(!e[t])return!1;for(var i=Array.prototype.slice.call(arguments,1),n=0,s=e[t].length;n<s;n++){var o=e[t][n];o.callback.apply(o.context,i)}return this};return{channels:e,publish:i,subscribe:t,installTo:function(e){e.subscribe=t,e.publish=i}}}},function(e,t,i){"use strict";floorcast.classes.event.NotificationCenter=function(){var e=new floorcast.classes.event.Mediator;return{subscribe:e.subscribe,publish:e.publish}}()},function(e,t,i){"use strict";!function(){var e=floorcast.utils.miscUtils.log;floorcast.classes.ui.Video=function(e,t){this.id=e,this.player=null,this.options=t||{logo:{enabled:!1},nativeControlsForTouch:!1,autoplay:!1,controls:!0,width:"100%",height:"100%",poster:i(203)}},floorcast.classes.ui.Video.prototype={template:function(){return"<video id='"+this.id+"' class='azuremediaplayer amp-default-skin' playsinline><p class='amp-no-js'>To view this video please enable JavaScript, and consider upgrading to a web browser that supports HTML5 video</p></video>"},load:function(t,i){var n={},s=null,o=this;n.src=t.url,n.type=t.type||"application/vnd.ms-sstr+xml",t.isLive&&(n.embeddedTracks=[{format:"CEA608",label:"Captions On",channel:"CC1",srclang:"en"}]),!t.isLive&&t.captions&&(s=[{kind:"captions",src:t.captions,srclang:"en",label:"English"}]),this.player||(this.player=amp(this.id,this.options,function(){e("Media player loaded"),i&&i(),o.player.src([n],s)}))},initialize:function(e,t,i){$(e).html(this.template()),this.load(t,i)},listenTo:function(e,t){this.player.addEventListener(e,t)},dispose:function(){this.player.dispose()},destroy:function(){this.player&&(e("Destroying player"),this.player.dispose(),this.player=null)},play:function(){this.player.play()},pause:function(){this.player.pause()},setTime:function(e){console.log(Number.isInteger(e),"IS INT"),this.player&&this.player.currentTime(Number.isInteger(e)?e:0)}}}()},function(e,t,i){"use strict";!function(){var e=floorcast.classes.ui,t=e.DataTable,i=e.SearchFilter,n=e.DropdownFilter,s=e.TableInfo,o=floorcast.models.DateInfo,a=e.Spinner,r=e.Miscellaneous.LastUpdated,l=floorcast.utils,c=l.miscUtils.each,d=l.miscUtils.log,u=l.miscUtils.sanitize,f=l.miscUtils.formatBill,p=l.miscUtils.reapplyStripes,v=l.miscUtils.createCongressLink,h=l.miscUtils.createCongressionalRecordLink,m=l.timeUtils.dateToString;floorcast.classes.ui.BillActionView=function(e,t,i){this.container=t,this.id=e,this.title=i,this.spinner=new a},floorcast.classes.ui.BillActionView.prototype={init:function(e){var a="",l="",u="",f=this,v=o.previousWeek;e.error?(l="<div class='view-container'><div class='no-data warning-msg'>No "+f.id.split("-")[0]+" bills. See the "+h()+" for details.</div></div>",$(f.container).html(l)):(d("INITIALIZING: "+this.title),c(e.data,function(e){a+=f.addBill(e)}),f.billTable=new t(f.id+"-table",["Date","Bill Number","Title"],"striped-body","expandable"),f.billTableInfo=new s(f.id+"-table-info",f.title),f.searchFilter=new i(f.id+"-filter","Examples: 'h.r. 123', 'amendment', 'agriculture'"),f.dropdownFilter=new n(f.id+"-dropdown"),f.lastUpdated=new r(f.id),l="<div class='view-container'><div class='legislation-range info-msg'>Actions for <span class='desktop'>"+m(v[v.length-1],{weekday:!0})+" to "+m(v[0],{weekday:!0})+"</span><span class='mobile'>"+m(v[v.length-1],{abbreviated:!0})+" to "+m(v[0],{abbreviated:!0})+"</span></div><div class='table-wrapper'><div class='table-menu'><div class='table-menu__util-container'>"+f.dropdownFilter.template()+"</div>"+f.searchFilter.template()+"</div><div class='table-container'>"+f.billTable.template(a)+"</div></div></div><div class='view-footer'>"+f.lastUpdated.template()+"<div class='data-attribution'><a href='https://congress.gov/about/data'>Bill Status data</a> is from <a href='https://congress.gov' class='congress-logo-link' aria-label='Congress.gov link'></a></div></div>",$(f.container).html(l),f.dropdownFilter.addFilter("All week"),f.dropdownFilter.setButton("All week","<i class='fa fa-filter' aria-hidden='true'></i>"),f.dropdownFilter.bind(),f.searchFilter.bind(),f.firstDropdownValue=$("#"+f.dropdownFilter.id+" .dropdown-menu").children().first().text(),u="#"+f.billTable.id,$(u).tablesorter({headers:{1:{sorter:"sortByBillType"}},sortList:[[0,1],[1,0]],sortAppend:{0:[[1,0]]},widgets:["sortTbody"],widgetOptions:{sortTbody_primaryRow:".clickableRow",sortTbody_sortRows:!1}}).bind("sortEnd filterEnd",function(e,t){p(u,"body")})),this.spinner.stop()},addBill:function(e,t){var i,n,s,o=e.referrals,a="",r="",l=e.title,d=!(!t||!t.update);if(o.length&&(c(o,function(e){a+="<div>"+m(e.date,{weekday:!1})+" - "+e.committee+"</div>"}),r+="<div class='row'><div class='cell field-title'>House Referrals</div><div class='cell'>"+a+"</div></div>"),l.length>140)var p=l.substr(0,140)+"<span class='moreellipses'>...&nbsp;</span><span class='morecontent' style='display:none'>"+l.substr(140,l.length-140)+"&nbsp;&nbsp;</span>";else p=l;return i="<td colspan='100%'><div class='table'><div class='row'><div class='cell field-title'>Official Title</div><div class='cell'>"+e.officialTitle+"</div></div><div class='row'><div class='cell field-title'>Sponsor</div><div class='cell'>"+e.sponsor+"</div></div><div class='row'><div class='cell field-title'>Introduced</div><div class='cell'>"+m(e.introduced,{weekday:!1})+"</div></div><div class='row'><div class='cell field-title'>Lastest Action</div><div class='cell'>"+m(e.lastActionDate,{weekday:!1})+" - "+e.lastAction+"</div></div>"+r+"</div></td>",n="<tr class='clickableRow'><td class='bill-date'>"+e.referenceDate+"</td><td class='bill-legisnum'>"+v(f(e.legisNum),e.congressNum)+"</td><td><i class='fa fa-plus expand-btn' style='float: right'></i>"+p+"</td></tr><tr class='hiddenRow tablesorter-childRow'>"+i+"</td>",s="<tbody data-billId='"+u(e.congressNum+e.legisNum,{removeWhitespace:!0})+"'>"+n+"</tbody>",d?n:s},addBills:function(e){var t="",i=this;c(e,function(e){t+=i.addBill(e)}),$("#"+this.billTable.id).append(t).trigger("update").trigger("sorton",[$("#"+this.billTable.id).get(0).config.sortList])},updateBills:function(e){var t=this;c(e,function(e){var i=$("#"+t.billTable.id).find("[data-billId='"+e.congressNum+u(e.legisNum,{removeWhitespace:!0})+"']");d(i),i.length?(d("Updating row: "+e.legisNum),i.html(t.addBill(e,{update:!0})).trigger("update").trigger("sorton",[$("#"+t.billTable.id).get(0).config.sortList])):(d("Row does not exist: Creating new bill action details row for bill "+e.legisNum),t.addBills([e]))})},removeBill:function(e){$("#"+this.billTable.id).find("[data-billId='"+e+"']").remove().trigger("update")},updateTabCount:function(e){var t="."+this.id.split("-")[0]+"-tab-count";$(t).html(e)},filterTable:function(){var e=this.dropdownFilter.currentValue,t=this.searchFilter.currentValue,i=$("#"+this.billTable.id).find("tbody"),n=this;i.hide(),i.filter(function(i,s){return e===n.firstDropdownValue&&$(this).is(":containsIgnoreCase('"+t+"')")?($(this).removeClass("filtered"),!0):$(this).find(".clickableRow").is(":containsIgnoreCase('"+e+"')")&&$(this).is(":containsIgnoreCase('"+t+"')")?($(this).removeClass("filtered"),!0):($(this).addClass("filtered"),!1)}).show(),p("#"+this.billTable.id,"body")},getLastUpdated:function(){return this.lastUpdated},getId:function(){return this.container.replace(/^#/,"")},getSearchFilter:function(){return this.searchFilter},getDropdownFilter:function(){return this.dropdownFilter},getTable:function(){return this.billTable},getTableInfo:function(){return this.billTableInfo},getSpinner:function(){return this.spinner},clear:function(){$(this.container).empty(),this.billTable=null,this.searchFilter=null,this.dropdownFilter=null,this.billTableInfo=null}}}()},function(e,t,i){"use strict";!function(){var e=floorcast.utils.miscUtils.each;floorcast.classes.ui.DataTable=function(e,t,i,n){this.id=e,this.classes=i||"",this.headers=t||"",this.type=n||""},floorcast.classes.ui.DataTable.prototype={template:function(e){for(var t,i,n="",s=0;s<this.headers.length;s++)n+="<th scope='col' role='columnheader'>"+this.headers[s]+"</th>";return i=e||"",t="expandable"===this.type?i:"<tbody role='rowgroup'>"+i+"</tbody>","<table id='"+this.id+"' class='"+this.classes+"' role='grid'><thead>"+n+"</thead>"+t+"</table>"},addRow:function(e){for(var t,i="",n="#"+this.id,s=0;s<e.length;s++)i+="<td role='cell'>"+e[s]+"</td>";t="<tr role='row'>"+i+"</tr>",$(n).append(t)},addRows:function(t){var i,n,s="#"+this.id;e(t,function(e){n="";for(var t=0;t<e.length;t++)n+="<td role='gridcell'>"+e[t]+"</td>";i+="<tr role='row'>"+n+"<tr>"}),$(s).append(i)}}}()},function(e,t,i){"use strict";!function(){var e=floorcast.utils.miscUtils.each;floorcast.classes.ui.DropdownButton=function(e,t){this.id=e||"",this.text=t||""},floorcast.classes.ui.DropdownButton.prototype={template:function(t){var i="";return t&&e(t,function(e){i+="<li>"+e+"</li>"}),"<div id='"+this.id+"' class='dropdown'><div class='dropdown-container'><div class='dropdown-button'><div class='dropdown-icon'></div><div class='dropdown-text'></div></div><ul class='dropdown-menu dropdown-select'>"+i+"</ul></div></div>"},addOption:function(e){var t="#"+this.id+" .dropdown-menu",i="<li>"+e+"</li>";$(t).append(i)},addOptions:function(t){var i="#"+this.id+" .dropdown-menu",n="";e(t,function(e){n+="<li>"+e+"</li>"}),$(i).append(n)},addOptionDivider:function(e){var t="#"+this.id+" .dropdown-menu",i="<li class='dropdown-menu-divider'>"+e+"</li>";$(t).append(i)},setButton:function(e,t){var i="#"+this.id;$(i+" .dropdown-icon").html(t),$(i+" .dropdown-text").html(e)},bind:function(){var e="#"+this.id;$(e+" .dropdown-button").click(function(e){$(this).siblings(".dropdown-menu").toggleClass("show-menu"),e.stopPropagation()}),$(e+" .dropdown-menu").on("click","li",function(){$(this).parent().removeClass("show-menu")})}},$(document).on("click",function(){$(".dropdown-menu").removeClass("show-menu")})}()},function(e,t,i){"use strict";!function(){var e=floorcast.classes.event.HandlerManager,t=floorcast.utils.miscUtils,i=t.each,n=t.cmpStringsWithNumbers;floorcast.classes.ui.DropdownFilter=function(t,i){this.id=t||"",this.currentValue="",this.description=i||"",this.filters=[],this.eventHandler=new e},floorcast.classes.ui.DropdownFilter.prototype={template:function(e){var t="";return e&&i(e,function(e){t+="<li data-value='"+e+"'>"+e+"</li>"}),"<div id='"+this.id+"' class='dropdown'><div class='dropdown-container'><div class='dropdown-description'>"+this.description+"</div><div class='dropdown-button'><div class='dropdown-icon'></div><div class='dropdown-text'></div></div><ul class='dropdown-menu dropdown-select'>"+t+"</ul></div></div>"},addFilter:function(e){var t="#"+this.id+" .dropdown-menu",i="<li data-value='"+e+"'>"+e+"</li>";-1===this.filters.indexOf(e)&&(this.filters.push(e),$(t).append(i))},removeFilter:function(e){var t="#"+this.id+" .dropdown-menu";this.filters.splice(this.filters.indexOf(e),1),$(t).find("[data-value='"+e+"']").remove()},addFilters:function(e){var t="#"+this.id+" .dropdown-menu",n="",s=this;i(e,function(e){-1===s.filters.indexOf(e)&&(s.filters.push(e),n+="<li data-value='"+e+"'>"+e+"</li>")}),$(t).append(n)},setButton:function(e,t){var i="#"+this.id;$(i+" .dropdown-icon").html(t),$(i+" .dropdown-text").html(e)},sort:function(e,t){var i=e.toLowerCase()||"asc",s="#"+this.id,o=$(s+" .dropdown-menu"),a=o.children(),r=a[0];t?(o.children().remove("li:first-child"),o.html(o.children().sort(n(i))).prepend(r)):(a.sort(n(i)),o.html(a))},bind:function(){var e="#"+this.id,t=this;$(e+" .dropdown-button").click(function(e){$(this).siblings(".dropdown-menu").toggleClass("show-menu"),e.stopPropagation()}),$(e+" .dropdown-menu").on("click","li",function(){var e=$(this),i=$(this).parent(),n=i.siblings(".dropdown-button");i.children().first().text();i.removeClass("show-menu"),n.find(".dropdown-text").html(e.html()),t.currentValue=e.text(),t.notifyListeners()})},addListener:function(e){this.eventHandler.addListener(e)},notifyListeners:function(e){this.eventHandler.notifyListeners(e)}},$(document).on("click",function(){$(".dropdown-menu").removeClass("show-menu")})}()},function(e,t,i){"use strict";floorcast.classes.ui.AppModal=function(){var e="#app-modal",t=".modal__title",i=".modal__message";return{open:function(){$(e).removeClass("modal--closed")},close:function(){$(e).addClass("modal--closed")},setMessage:function(t){$(e).find(i).text(t)},setTitle:function(i){$(e).find(t).text(i)},isOpen:function(){return!$(e).hasClass("modal--closed")}}}()},function(e,t,i){"use strict";!function(){floorcast.classes.event.NotificationCenter;var e=floorcast.utils.timeUtils.convertToHours;floorcast.classes.ui.LastAction=function(){var t=".last-action",i=".last-action__time",n=".last-action__description";return{updateAction:function(s){$(i).html("(<span class='last-action-title'>"+e(s.actionTime)+"</span>): "),$(n).html("<span>"+s.description+"</span>"),$(t).addClass("alert")},show:function(){$(t).show()},hide:function(){$(t).hide()}}}()}()},function(e,t,i){"use strict";floorcast.classes.ui.Miscellaneous=function(){var e=function(e){this.id="last-"+e+"-update",this.selector="#"+this.id,this.timeDisplay=".last-updated__time"};return e.prototype={template:function(){return"<div id='"+this.id+"' class='last-updated'>Last Updated: <span class='last-updated__time'></span></div>"},setTime:function(e){$(this.selector).find(this.timeDisplay).text(e)},hide:function(){$(this.selector).hide()},show:function(){$(this.selector).show()}},{LastUpdated:e}}()},function(e,t,i){"use strict";!function(){var e=floorcast.classes.event.NotificationCenter,t=floorcast.classes.ui.Spinner,i=floorcast.utils,n=floorcast.models.DateInfo,s=(i.miscUtils.each,i.miscUtils.log),o=i.miscUtils.addZero,a=i.miscUtils.makeInvisible,r=i.miscUtils.makeVisible,l=i.timeUtils.dateToString;floorcast.classes.ui.Navbar=function(){var i=[],c=null,d=null,u=null,f=null,p=new t,v={container:"#navbar",datepicker:"#datepicker",liveBtn:".live-video-link",prevBtn:".calendar-utils__prev",nextBtn:".calendar-utils__next",helpBtn:".help-selector",themeBtn:".theme-trigger",themeMenu:".theme-selector",mobileThemeMenu:".content-list",calendarBtn:".calendar-trigger",themeItem:".theme-selector__item",dateControls:".calendar-utils",timeDisplay:".time-display__time",timeDisplayZone:".time-display__zone",hourHand:".clock__hour-hand",minuteHand:".clock__minute-hand",timeToggle:"#time-toggle"},h=function(e,t,i){n.sessionYears||[],f=i,n.sessionYears.indexOf(e)<0&&(s("Year not in array- adding!"),$(i.dpDiv).addClass("calendar-off"),g(),n.getDaysInSession(e))},m=function(e){return i=n.daysInSession,c=e.getFullYear(),d=o(e.getMonth()+1),u=o(e.getDate()),i[c+"-"+d+"-"+u]?[!0,"highlighted"]:[!0,"disabled"]},g=function(){p.start(document.getElementById(v.datepicker.substr(1)))},b=function(){p.stop()},w=function(t,i){$(v.datepicker).hide(),e.publish("changeDate",t)},y=function(){var e=moment(),t=(60*e.hour()*2+e.minute())/1440*360,i=6*e.minute();e.format("LT")!==$(v.timeDisplay).text()&&($(v.timeDisplay).text(e.format("LT")),$(v.hourHand).css({transform:"rotateZ("+t+"deg)"}),$(v.minuteHand).css({transform:"rotateZ("+i+"deg)"})),setTimeout(function(){y()},2e3)};return $(document).ready(function(){$(v.prevBtn).on("click",function(){w(n.prevSession)}),$(v.nextBtn).on("click",function(){w(n.nextSession)}),$(v.liveBtn).on("click",function(){w(n.liveDate)}),$(v.helpBtn).on("click",function(){startIntro()}),$(v.themeBtn).on("click",function(e){e.stopPropagation(),$(v.themeMenu).toggle()}),$(v.datepicker).on("click",function(e){e.stopPropagation()}),$(v.calendarBtn).on("click",function(e){e.stopPropagation(),$(v.datepicker).toggle()}),$(v.themeItem).on("click",function(){if(!$(this).hasClass("disabled")){$("#theme").attr("href",$(this).attr("data-theme"));var e=!!$_GET("date"),t=!!$_GET("theme"),i=$(this).attr("data-theme-name");$("table").trigger("update"),!e&&!t||!e&&t?(s("(Changed theme) No date param! Adding theme... "),history.pushState({date:"",theme:i},null,"?theme="+i)):(e&&!t||e&&t)&&(s("(Changed theme) Date exists! Adding theme... "),history.pushState({date:$_GET("date"),theme:i},null,"?date="+$_GET("date")+"&theme="+i)),$(v.themeMenu).find(".is-active").removeClass("is-active"),$(v.mobileThemeMenu).find(".is-active").removeClass("is-active"),$(v.themeMenu).find("."+$_GET("theme")+"-theme").addClass("is-active"),$(v.mobileThemeMenu).find("."+$_GET("theme")+"-theme").addClass("is-active")}}),$(document).on("click",function(){$(v.themeMenu).hide(),$(v.datepicker).hide()}),$(v.timeToggle).on("click",function(){$(v.timeToggle).is(":checked")?$(v.timeDisplay).show():$(v.timeDisplay).hide()}),"America/New_York"!==moment.tz.guess()&&$(v.timeDisplayZone).text("EST")}),{getDatepickerInst:function(){return f},setDisplayDate:function(e){$(v.container+" .display-date").html(l(e,{weekday:!0}))},setDatepickerDate:function(e){$(v.datepicker).datepicker("setDate",e)},initializeDatepicker:function(){g(),$(v.datepicker).datepicker({dateFormat:"yy-mm-dd",onChangeMonthYear:h,beforeShowDay:m,onSelect:w,changeMonth:!0,changeYear:!0,autoClose:!0}),$(v.datepicker).datepicker("setDate",n.sessionDate),f=$.datepicker._getInst($(v.datepicker)[0]),$(v.datepicker).hide()},refreshDatepicker:function(){$(v.datepicker).datepicker("refresh"),$(f.dpDiv).removeClass("calendar-off"),b()},showNextBtn:function(){r($(v.nextBtn))},hideNextBtn:function(){a($(v.nextBtn))},showLiveBtn:function(){$(v.liveBtn).show()},hideLiveBtn:function(){$(v.liveBtn).hide()},showDateControls:function(){$(v.dateControls).show()},hideDateControls:function(){$(v.dateControls).hide()},updateTime:y}}()}()},function(e,t,i){"use strict";!function(){var e=floorcast.utils.miscUtils.findAncestor,t=null;if(floorcast.classes.ui.Popover=function(e){e||(e={}),this.id=e.id||null,this.clickFns=[],this.triggerText=e.triggerText||"",this.identifier=e.identifier||"",this.offsetTarget=e.offsetTarget||"body",this.spinner=e.spinner||null,this.waitForContent=!!e.waitForContent,this.spinner&&(this.spinner.options.scale=.35),this.init()},floorcast.classes.ui.Popover.prototype={init:function(){this.popover=document.createElement("div"),this.popover.classList.add("popover"),this.popover__trigger=document.createElement("div"),this.popover__trigger.classList.add("popover__trigger"),this.popover__trigger.innerHTML=this.triggerText,this.popover.appendChild(this.popover__trigger),this.popover__card=document.createElement("div"),this.popover__card.classList.add("popover__card"),this.popover.appendChild(this.popover__card),this.popover__card_arrow=document.createElement("div"),this.popover__card_arrow.classList.add("popover__card-arrow","popover__card-arrow--bottom"),this.popover__card.appendChild(this.popover__card_arrow),this.bindEvents()},addTriggerFunction:function(e){this.clickFns.push(e.bind(this))},loadContent:function(e){this.popover__card.appendChild(document.createRange().createContextualFragment(e)),this.spinner.stop(),setOpenPopoverPosition()},bindEvents:function(){var e=this;this.popover__trigger.addEventListener("click",function(){t=e,closeOpenedCards(),e.waitForContent&&!e.contentLoaded&&e.spinner.start(e.popover__card),e.popover__card.classList.add("popover__card--open"),setOpenPopoverPosition();for(var i=0,n=e.clickFns.length;i<n;i++)e.clickFns[i]()})}},window.onresize=function(){setOpenPopoverPosition()},window.ResizeSensor){var i=document.querySelector(".l-flex-col");new ResizeSensor(i,function(){setOpenPopoverPosition()})}function closeOpenedCards(){t&&t.spinner.stop();var e=document.querySelector(".popover__card--open");e&&e.classList.remove("popover__card--open")}function setOpenPopoverPosition(){if(t){var i=t.popover,n=t.popover__card,s=t.popover__card_arrow,o=e(t.popover,t.offsetTarget),a=i.getBoundingClientRect(),r=(n.getBoundingClientRect(),o.getBoundingClientRect()),l=a.right-r.left-n.clientWidth,c=r.right-a.left-n.clientWidth,d=a.top-r.top-n.clientHeight,u=-1*(a.top-r.top-r.height+n.clientHeight),f="",p="",v="";l>0&&c>0?(f="translateX(-50%) translateX("+i.clientWidth/2+"px)",p="calc(50% - "+s.clientWidth/2+"px)",v="initial"):l<0&&c<0||(l<0?(f="translateX(0)",p=i.clientWidth/2-s.clientWidth/2+"px",v="initial"):(f="translateX(-100%) translateX("+i.clientWidth+"px)",p="initial",v=i.clientWidth/2-s.clientWidth/2+"px")),d<0&&u>d?(f+="translateY(0%) translateY("+parseInt(s.clientHeight)+"px)",s.classList.remove("popover__card-arrow--bottom"),s.classList.add("popover__card-arrow--top")):(f+="translateY(-100%) translateY(-"+parseInt(s.clientHeight/2+i.clientHeight)+"px)",s.classList.remove("popover__card-arrow--top"),s.classList.add("popover__card-arrow--bottom")),s.style.left=p,s.style.right=v,n.style.transform=f}}document.addEventListener("click",function(e){t&&!t.popover.contains(e.target)&&closeOpenedCards()})}()},function(e,t,i){"use strict";!function(){var e=floorcast.classes.event.HandlerManager;floorcast.classes.ui.SearchFilter=function(t,i){this.id=t,this.placeholder=i||"",this.currentValue="",this.eventHandler=new e},floorcast.classes.ui.SearchFilter.prototype={template:function(){return"<div class='search-wrapper'><input id='"+this.id+"' class='search' placeholder=\""+this.placeholder+"\" type='search' aria-label='filter'></div>"},bind:function(){var e=this;document.getElementById(this.id)&&document.getElementById(this.id).addEventListener("input",function(){e.currentValue=this.value,e.notifyListeners()})},addListener:function(e){this.eventHandler.addListener(e)},notifyListeners:function(e){this.eventHandler.notifyListeners(e)}}}()},function(e,t,i){"use strict";floorcast.classes.ui.Spinner=function(){this.options={lines:13,length:28,width:14,radius:42,scale:.5,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"},this.instance=new Spinner(this.options)},floorcast.classes.ui.Spinner.prototype={start:function(e){this.instance.spin(e)},stop:function(){this.instance.stop()}}},function(e,t,i){"use strict";floorcast.classes.ui.TableInfo=function(e,t,i){this.id=e,this.title=t||"",this.subtitle=i||"",this.count=0},floorcast.classes.ui.TableInfo.prototype={template:function(){return"<div id='"+this.id+"' class='table-info'><div class='table-info__title'>"+this.title+"</div><div class='table-info__subtitle'>"+this.subtitle+"<span class='table-info__count'> ("+this.count+" Results)</span></div></div>"},setTitle:function(e){this.title=e},setSubtitle:function(e){this.subtitle=e},setCount:function(e){this.count=e},updateCount:function(e){$("#"+this.id+" .table-info__count").html(" ("+e+" "+(1===e?"Result":"Results")+")")}}},function(e,t,i){"use strict";(function(e){!function(){var t=floorcast.utils.timeUtils.toMilliseconds;floorcast.config={isOnCampus:"false",clerkSiteUrl:"https://clerkpreview.house.gov",api:{base:"https://liveproxy-azapp-prod-eastus2-001.azurewebsites.net",routes:{floor:"/floor/",votes:"/votes/",bills:"/bills",billActions:"/billActions/",committeeMeetings:"/committeemeetings/",dailySchedule:"/dailyschedule/",billsThisWeek:"/billsthisweek/",introduced:"/introduced/",reported:"/reported/",passed:"/passed/",presented:"/presented/",enacted:"/enacted/",sessions:"/sessiondays/",transcript:"/transcripts/",transcriptFile:"/transcriptfiles/",streamingUrl:"/streamingUrl",broadcastEvents:"/broadcastevents",members:"/latest/memberDetails/",memberNameExceptions:"/latest/memberNameExceptions",floorUpdates:"/latest/floor",voteUpdates:"/latest/votes",billUpdates:"/latest/bills",billActionUpdates:"/latest/billActions",latestMeetings:"/latest/committeemeetings",latestBillsThisWeek:"/latest/billsthisweek",latestSchedule:"/latest/dailyschedule",latestTranscript:"/latest/transcript",transcriptUpdates:"/latest/transcriptUpdates",history:"/latest/history"}},websockets:{url:"https://liveproxy-azapp-prod-eastus2-001.azurewebsites.net",path:"live/socket.io",reconnect:!1,reconnectAttempts:0},externalLinks:{evs:"http://clerk.house.gov/evs/",majorityLeader:"http://floor.majorityleader.gov/",congress:"https://www.congress.gov/bill/",congressionalRecord:"https://www.congress.gov/congressional-record/",billsThisWeekDownload:"https://docs.house.gov/floor/Download.aspx?file=/billsthisweek",votes:"https://clerkpreview.house.gov/Votes"},staticFiles:{floor:"/data/floor.json",broadcast:"/data/broadcast.json"},connectionAttemptLimit:2,retryTimeout:t(5,"seconds"),hoursPriorToSession:2,hourToSwitchSession:10,simulationMode:!1,addMemberCards:!1,videoIdleTimeout:t(2,"minutes"),videoIdleCountdown:t(30,"seconds"),videoLoadingTimeout:t(30,"seconds"),loggingLevel:parseInt("1"),newrelic:{appid:e.env.NEW_RELIC_APPID,key:e.env.NEW_RELIC_licenseKey}}}()}).call(t,i(205))},function(e,t,i){"use strict";e.exports={config:{},services:{},classes:{ui:{},event:{}},models:{},repos:{},views:{},controllers:{},utils:{},data:{},fun:{}}},function(e,t,i){"use strict";!function(){var e=floorcast.classes.event.NotificationCenter,t=floorcast.repos.floorRepository,i=floorcast.services.memberDetailsService,n=floorcast.views,s=floorcast.utils.miscUtils,o=floorcast.utils.timeUtils,a=n.activitiesView,r=floorcast.models.DateInfo,l=(s.reapplyStripes,s.sanitize),c=s.each,d=s.log,u=s.cloneSimpleObject;floorcast.controllers.activitiesController=function(t,n){var s=n.getId(),a=/(H24100|H24200|H24400|H24500|H24900|H26300)/,f=function(){var s=t.getData(),a=u(s),c=s.activities.length,d={};s.congressNum=r.sessionCongress,i.resetMemberCards(),v(a.activities),r.isDefaultOrLive&&r.nextStartDate&&(d.startsAt=o.convertToHours(r.nextStartDate,{shortened:!0})),n.init(a,d),n.updateTabCount(c),n.getTableInfo()&&(p(i.getMemberCards("activities")),n.getTableInfo().updateCount(c),h()),s.activities.length&&(n.getDownloadButton().addOption("<a href='http://clerk.house.gov/floorsummary/Download.aspx?file="+l(r.sessionDate)+".xml' target='_blank'>Download this Day</a>"),e.publish("viewLoaded","activities")),g()},p=function(e){var t="#"+n.getTable().id;e instanceof Array?c($(t+" .card-placeholder"),function(t,i){for(var n=$(t).attr("data-popoverId"),s=(i=0,e.length);i<s;i++)if(e[i].id===n){$(t).append(e[i].popover);break}}):null!=(e=i.getMemberCards("activities"))&&e.length&&$(t+" .card-placeholder").append(e.slice(-1)[0].popover),$(t+" .card-placeholder .popover").unwrap()},v=function(e){e=e instanceof Array?e:[e],c(e,function(e){null==i.getMemberCards("activities")||a.test(e.actionId)||(e.description=i.addMemberCardPlaceholders({text:e.description,container:".tab-content-container",type:"activity",list:"activities"}))})},h=function(){n.getSearchFilter().addListener(function(){n.filterTable()}),n.getDropdownFilter().addListener(function(){n.filterTable()})},m=function(){n.getLastUpdated()&&n.getLastUpdated().show()},g=function(){n.getSpinner().stop()};return{loadView:f,clearView:function(){n.clear()},startSpinner:function(){n.getSpinner().start(document.getElementById(s))},stopSpinner:g,addActivity:function(e,i){d("Adding activity"),d(e);var s=u(e),o=t.getData().activities.length;n.getTable()?(v(s),n.addRow([s],i),p(),n.filterTable()):f(),n.updateTabCount(o),n.addUpdateBadge()},removeActivity:function(e){var i=t.getData().activities.length;n.removeRow(e),n.filterTable(),n.updateTabCount(i),n.addUpdateBadge()},updateActivity:function(e){v(e),n.updateRow(e),n.addUpdateBadge(),p()},addToDropdown:function(e){n.getDropdownFilter().addFilter(e),n.getDropdownFilter().sort("desc",!0)},setLastUpdateTime:function(e){var t=n.getLastUpdated();t&&(t.setTime(e),"none"===$(t.selector).css("display")&&m())},showLastUpdated:m,hideFooter:function(){n.hideFooter()}}}(t,a)}()},function(e,t,i){"use strict";!function(){var e=floorcast.classes.event.NotificationCenter,t=floorcast.models,i=floorcast.config,n=(floorcast.services.apiService,floorcast.services.memberDetailsService),s=floorcast.utils,o=floorcast.repos.floorRepository,a=floorcast.repos.transcriptRepository,r=(floorcast.views,t.DateInfo),l=t.BroadcastEvent,c=t.DataModels.JsonLD,d=floorcast.classes.ui.LastAction,u=floorcast.classes.ui.AppModal,f=(floorcast.classes.ui.Miscellaneous.LastUpdated,floorcast.controllers),p=f.activitiesController,v=f.billsController,h=f.votesController,m=f.legislativeActionsController,g=f.committeeMeetingsController,b=f.billsThisWeekController,w=(f.dailyScheduleController,f.transcriptController),y=f.videoController,D=f.socketController,T=floorcast.classes.ui.Navbar,C=(s.miscUtils.each,s.miscUtils.log),S=(s.miscUtils.formatBill,s.miscUtils.eachObj),k=(s.miscUtils.sanitize,s.timeUtils.getESTDate,s.timeUtils.validateDate,s.miscUtils.addJsonLdScript),L=s.miscUtils.getParam;floorcast.controllers.appController=function(){S(f,function(e){(e=f[e]||"").clearView&&e.startSpinner&&(e.clearView(),e.startSpinner())}),T.hideLiveBtn(),T.hideDateControls(),T.updateTime(),y.bindDOMEvents(),y.bindViewListeners();var t=null,s=null,I=null,N=!1;e.subscribe("dateStaticInfoInitialized",function(e){$("#transcript").hide(),$("#schedule").hide(),$("#bill-activity").hide(),$("#floor").hide(),$("#bill").hide(),$("#vote").hide(),$(".calendar-trigger").hide(),$(".calendar-utils__prev").hide(),$(".calendar-utils__next").hide(),$(".help-selector").hide(),$(".live-video-link").off("click"),$(".live-video-link").empty(),$(".live-video-link").css("cursor","default"),C("Date being set"),r.setDate(e),s=r.sessionDate,I=r.sessionDateSanitized,N=r.isDefaultOrLive,T.setDisplayDate(s),T.setDatepickerDate(s),T.showDateControls(),d.hide(),n.resetMemberCards(),l.loadBroadcastData(I),o.loadFloorData(I)}),e.subscribe("activityStaticLoaded",function(e){C("Floor static activity loaded"),r.nextSession&&!N?T.showNextBtn():T.hideNextBtn();var t=o.getData().activities;if(r.sessionDate===r.liveDate){var i=t[0];i&&(d.updateAction(i),d.show())}k(new c({congress:r.sessionCongress,session:r.sessionCongressSession,sessionDate:r.sessionDate})),p.loadView()}),e.subscribe("dateInfoInitialized",function(t){$("#transcript").show(),$("#schedule").show(),$("#bill-activity").show(),$("#floor").show(),$("#bill").show(),$("#vote").show(),$(".calendar-trigger").show(),$(".calendar-utils__prev").show(),$(".calendar-utils__next").show(),$(".help-selector").show(),e.publish("setDate",t)}),e.subscribe("setDate",function(t){C("Date being set"),r.setDate(t),s=r.sessionDate,I=r.sessionDateSanitized,N=r.isDefaultOrLive,T.setDisplayDate(s),T.setDatepickerDate(s),T.showDateControls(),d.hide(),n.resetMemberCards(),n.checkIfDataIsLoaded()?C("Member details already loaded"):(C("Preloading member details"),n.loadExceptionsList(),n.loadAllMemberDetails()),e.publish("checkIfMemberDetailsLoaded"),l.loadBroadcastData(I),g.loadView(s),m.loadView(s),b.loadView(s)}),e.subscribe("changeDate",function(t){0,S(f,function(e){(e=f[e]||"").clearView&&e.startSpinner&&(e.clearView(),e.startSpinner())}),o.reset(),a.reset(),function(t){var i=!!L("date"),n=!!L("theme");!i&&!n||i&&!n?(C("(Changed date) No theme param! Adding date... "),history.pushState({date:t,theme:""},null,"?date="+t)):(!i&&n||i&&n)&&(C("(Changed date) Theme exists! Adding date... "),history.pushState({date:t,theme:L("theme")},null,"?date="+t+"&theme="+L("theme")));$(".has-update").removeClass("has-update"),e.publish("setDate",t)}(t)}),e.subscribe("checkIfMemberDetailsLoaded",function(){C("Checking if member details have loaded... "),n.checkIfDataIsLoaded()&&(C("All member details loaded"),o.loadFloorData(s))}),e.subscribe("daysInSessionLoaded",function(e){r.addDaysInSession(e),T.getDatepickerInst()||T.initializeDatepicker(),T.refreshDatepicker()}),e.subscribe("transcriptLoaded",function(e){C("Transcript loaded"),w.loadView()}),e.subscribe("broadcastDataLoaded",function(){var e=y.getView(),t=l.video.url,i=(l.date,{url:t});t?r.sessionDate!==r.liveDate?(console.log("ARCHIVED =================="),i.isLive=!0,y.setVideoView(i)):r.checkIfWithinStartRange()?(console.log("COUNTDOWN =================="),y.setCountdownView(r.nextStartDate)):(console.log("LIVE =================="),T.showLiveBtn(),i.isLive=!0,y.setVideoView(i)):(console.log("NO VIDEO URL =================="),e.getPlayerInstance()&&e.destroyPlayer(),y.setVideolessView())}),e.subscribe("activityLoaded",function(e){C("Floor activity loaded"),r.nextSession&&!N?T.showNextBtn():T.hideNextBtn();var t=o.getData().activities;if(r.sessionDate===r.liveDate){var i=t[0];i&&(d.updateAction(i),d.show())}k(new c({congress:r.sessionCongress,session:r.sessionCongressSession,sessionDate:r.sessionDate})),p.loadView(),v.loadView(),h.loadView(),a.loadTranscriptData(r.sessionDate)}),e.subscribe("historyLoaded",function(e){t=D.getHistory()}),e.subscribe("viewLoaded",function(e){switch(e.toLowerCase()){case"activities":N&&null!=t&&null!=t.lastActivityUpdate?(p.setLastUpdateTime(t.lastActivityUpdate),p.showLastUpdated()):p.hideFooter();break;case"votes":N?(h.setLastUpdateTime(t.lastVoteUpdate),h.showLastUpdated()):h.hideFooter();break;case"bills":N&&(v.setLastUpdateTime(t.lastBillUpdate),v.showLastUpdated());break;case"transcript":N?(w.setLastUpdateTime(t.lastTranscriptUpdate),w.showLastUpdated()):w.hideFooter();break;default:C("Another type of view has been loaded: "+e),N&&(e=m.getView(e)).getLastUpdated&&(m.setLastUpdateTime(e,t.lastBillActionUpdate),m.showLastUpdated(e))}}),e.subscribe("dataPolled",function(e){switch(t=D.getHistory(),e.type.toLowerCase()){case"floor":!function(e){if(N){var t=e;(t.nextStartDate&&t.nextStartDate!==r.nextStartDate||t._id!==r.sessionDateSanitized)&&r.updateCurrentDateInfo(t),(r.sessionDateSanitized===t._id||i.simulationMode)&&(C("Dates are correct! checking floor data"),o.addData(t.subEvent,{isPolling:!0}))}}(e.results),p.setLastUpdateTime(t.lastActivityUpdate);break;case"votes":!function(e){h.updateEmptyVotes(e)}(e.results),h.setLastUpdateTime(t.lastActivityUpdate);break;case"bills":!function(e){v.updateEmptyBills(e)}(e.results),v.setLastUpdateTime(t.lastActivityUpdate);break;case"billactions":m.setLastUpdateTimes(t.lastBillActionUpdate);break;case"transcript":w.setLastUpdateTime(t.lastTranscriptUpdate),w.addTranscriptItems(e.results,{alert:!0});break;case"dailyschedule":break;case"billsthisweek":console.log(e),b.loadViewWithData(e.results);break;default:C("Another type of data has been polled: "+e.type)}}),e.subscribe("newActivity",function(e){p.addActivity(e.action,{alert:!0}),e.updateAction&&d.updateAction(o.getData().activities[0]),r.isLive&&d.show()}),e.subscribe("updatedActivity",function(e){p.updateActivity(e.action),e.updateAction&&d.updateAction(o.getData().activities[0])}),e.subscribe("removedActivity",function(e){p.removeActivity(e)}),e.subscribe("newBill",function(e){p.addToDropdown(e.bill.legisNum)}),e.subscribe("updatedBill",function(e){v.addBill(e,{isUpdating:!0})}),e.subscribe("newVote",function(e){h.addVote(e,{isNew:!0,alert:!0}),h.setLastUpdateTime(t.lastActivityUpdate)}),e.subscribe("captionUpdate",function(e){w.updateTranscriptItem(e)}),e.subscribe("newSpeakers",function(e){w.addToDropdown(e)}),e.subscribe("changeVideoIconStatus",function(e){e?T.showLiveBtn():T.hideLiveBtn()}),e.subscribe("setVideoTime",function(e){y.setVideoTime(e)}),e.subscribe("hideErrorModal",function(){u.isOpen()&&u.close()}),e.subscribe("notifyOfError",function(e){e&&(S(f,function(e){(e=f[e]||"").stopSpinner?e.stopSpinner():e.stopSpinners&&e.stopSpinners()}),u.setTitle(e.title),u.setMessage(e.message),u.open())})}()}()},function(e,t,i){"use strict";!function(){var e=floorcast.classes.event.NotificationCenter,t=floorcast.repos.floorRepository,i=floorcast.models.DateInfo,n=floorcast.services.apiService,s=(floorcast.services.pollingService,floorcast.services.memberDetailsService),o=floorcast.utils.miscUtils,a=(floorcast.utils.timeUtils,floorcast.views),r=floorcast.models.DataModels.Bill,l=a.billsView,c=o.each,d=o.log,u=o.sanitize,f=o.compareObjects,p=(o.reapplyStripes,o.cloneSimpleObject),v=(n.getBill,n.getBills);floorcast.controllers.billsController=function(t,n){var o=n.getId(),a=[],l=function(e,o){var a=t.getData().bills.filter(function(e){if(e.details)return e}).length,l=[],u=!!(o=o||{}).isNew,f=!!o.isUpdating,v=null;i.sessionCongress;e=e instanceof Array?e:[e],c(e,function(e){if(d(e),e._id){if(e.officialTitle="",(v=e.bill.titles).detail&&v.detail.titles)for(var n=0,s=v.detail.titles;n<s.length;n++)if(s[n].titleType.toLowerCase().indexOf("official title")>-1){e.officialTitle=s[n].title;break}e.referrals=[],h(e.bill.committees.detail.billCommittees,e.referrals),e.referrals.sort(function(e,t){var i=e.date.split("-").join(),n=t.date.split("-").join();return i>n?-1:i<n?1:0}),l.push(function(e){var n=t.findLastAction(e.legisNum);return new r({legisNum:e.legisNum,title:e.bill.title,officialTitle:e.officialTitle,sponsor:e.bill.sponsors[0]?e.bill.sponsors[0].fullName:"No sponsor",introduced:e.bill.introducedDate.split("T")[0],lastAction:i.isDefaultOrLive&&n?n+" <span class='action-source'>(Source: Floor proceedings)</span>":e.bill.latestAction.text,lastActionDate:i.isDefaultOrLive?i.sessionDate:e.bill.latestAction.actionDate.split("T")[0],referrals:e.referrals,congressNum:i.sessionCongress})}(e))}else l.push(new r({legisNum:e.legisNum,congressNum:i.sessionCongress}))});var w=p(l);g(w),n.getTable()?(f?(d("Updating bill"),n.updateRow(w[0])):u&&(d("Adding bill to table"),n.addRow(w[0]),n.filterTable()),m()):(d("Initializing bill table"),n.init({data:w}),m(s.getMemberCards("bills")),b(),y()),n.updateTabCount(a),n.getTableInfo().updateCount(a)},h=function(e,t,i){i=i||{},c(e,function(e){(i.isSubcommittee||e.chamber&&"house"===e.chamber.toLowerCase())&&(c(e.activities,function(n){"referred to"===n.name.toLowerCase()&&t.push({date:n.date.split("T")[0],committee:i.parent?i.parent+" ("+e.name+")":e.name})}),e.subcommittees&&e.subcommittees.length&&h(e.subcommittees,t,{parent:e.name,isSubcommittee:!0}))})},m=function(e){var t="#"+n.getTable().id;e instanceof Array?c($(t+" .card-placeholder"),function(t,i){for(var n=$(t).attr("data-popoverId"),s=(i=0,e.length);i<s;i++)if(e[i].id===n){$(t).append(e[i].popover);break}}):(e=s.getMemberCards("bills")).length&&$(t+" .card-placeholder").append(e.slice(-1)[0].popover),$(t+" .card-placeholder .popover").unwrap()},g=function(e){e=e instanceof Array?e:[e],c(e,function(e){e.sponsor=s.addMemberCardPlaceholders({text:e.sponsor,container:".tab-content-container",type:"sponsor",list:"bills"})})},b=function(){n.getSearchFilter().addListener(function(){n.filterTable()}),n.getDropdownFilter().addListener(function(){n.filterTable()})},w=function(){n.getLastUpdated()&&n.getLastUpdated().show()},y=function(){n.getSpinner().stop()};return{loadView:function(){var s=t.getData().bills||[],o=s.length||0,r=-1,f=0,p=[],h=[];o?v(i.sessionDate,i.nextSession||"").done(function(e){p=(a=e).map(function(e){if(e.bill)return e.bill.billType+e.bill.billNumber}),c(s,function(e){(r=p.indexOf(u(e.legisNum.toUpperCase(),{removeWhitespace:!0})))>-1?(a[r].legisNum=e.legisNum,h.push(a[r]),t.updateBill(f,a[r])):h.push(e),f++}),l(h)}).fail(function(e){d("Error getting initial bill details",{type:"error"}),l(s),y()}).always(function(){e.publish("viewLoaded","bills")}):(n.init({error:!0}),n.updateTabCount(o),y())},clearView:function(){n.clear()},startSpinner:function(){n.getSpinner().start(document.getElementById(o))},stopSpinner:y,addBill:l,updateEmptyBills:function(e){d("Polling for bill updates");var i=t.getData().bills,s=!1,o=0,r=-1,p=null,v=!1,h=null,m=[],g=!1;e.length&&e[0]&&(a=e),d(a),m=a.map(function(e){if(e.bill)return e.bill.billType+e.bill.billNumber}),c(i,function(e){r=m.indexOf(u(e.legisNum.toUpperCase(),{removeWhitespace:!0})),p=a[r]||{},v=Object.keys(p).length>0,s=Object.keys(e.details).length>0,h=v?p:e,v||s||e.addedToView?f(e.details.bill,p.bill)||(d("Updating details for bill "+e.legisNum),p.legisNum=e.legisNum,t.updateBill(o,p),l(h,{isUpdating:!0}),g=!0):(d(e.legisNum+" has no details. Adding to table anyways... "),l(e,{isNew:!0}),e.addedToView=!0),o++}),g&&n.addUpdateBadge(),d("Done polling for bill updates")},setLastUpdateTime:function(e){var t=n.getLastUpdated();t&&(t.setTime(e),"none"===$(t.selector).css("display")&&w())},showLastUpdated:w}}(t,l)}()},function(e,t,i){"use strict";!function(){var e=floorcast.classes.event.NotificationCenter,t=floorcast.services.apiService,i=floorcast.utils.miscUtils,n=floorcast.utils.timeUtils,s=floorcast.views,o=(floorcast.models.DateInfo,s.billsThisWeekView),a=(i.each,i.log),r=(i.reapplyStripes,t.getBillsThisWeek);floorcast.controllers.billsThisWeekController=function(t){e.subscribe("billsThisWeekDataLoaded",function(e){o(e)});var i=null,s=t.getId(),o=function(e){var n=e&&e[0]||{};i=0,n._id?(l(n.categories),t.init({data:n})):t.init({error:!0}),t.updateTabCount(i),d()},l=function(e){e.sort(function(e,t){return(e.sortOrder||0)-(t.sortOrder||0)}),e.forEach(function(e){var t=[],n=[];e.documents.forEach(function(e){-1===n.indexOf(e.uniqueId)&&(t.push(e),n.push(e.uniqueId))}),i+=t.length,e.documents=c(t.sort(function(e,t){return(e.sortOrder||0)-(t.sortOrder||0)}))})},c=function(e){var t=[],i=[];return e.forEach(function(e){e.subDocuments&&(i=c(e.subDocuments),delete e.subDocuments),t=t.concat(e,i)}),t},d=function(){t.getSpinner().stop()};return{loadView:function(e){n.validateDate(e)?r(e).done(function(e){o(e)}).fail(function(e){a(e,{type:"error"}),t.init({error:!0})}):(a("invalid date: "+e,{type:"warn"}),t.init({error:!0}))},loadViewWithData:o,clearView:function(){t.clear()},startSpinner:function(){t.getSpinner().start(document.getElementById(s))},stopSpinner:d}}(o)}()},function(e,t,i){"use strict";!function(){var e=floorcast.classes.event.NotificationCenter,t=floorcast.services.apiService,i=floorcast.utils.miscUtils,n=floorcast.utils.timeUtils,s=floorcast.views,o=floorcast.models.DateInfo,a=floorcast.models.DataModels.Meeting,r=s.committeeMeetingsView,l=i.each,c=i.log,d=(i.reapplyStripes,t.getCommitteeMeetings);t.getLatestMeetings;floorcast.controllers.committeeMeetingsController=function(t){e.subscribe("meetingDataLoaded",function(e){f(e)});var s=[],r=t.getId(),u=function(e,i){s=[],n.validateDate(e)?d(e,i):(c("invalid meeting date: "+e,{type:"warn"}),t.init({error:!0}))},f=function(e){e.results&&e.results.length?e.startDate===o.sessionDate?(l(e.results,function(e){s.push(new a({url:i.toHttps(e.url),title:e.name,organizer:e.organizer,location:e.location,startDate:e.startDate,status:e.status}))}),t.init({data:s}),t.getTableInfo().updateCount(s.length),p()):u(o.sessionDate,!0):t.init({error:!0}),t.updateTabCount(s.length),v()},p=function(){t.getSearchFilter().addListener(function(){t.filterTable()}),t.getDropdownFilter().addListener(function(){t.filterTable()})},v=function(){t.getSpinner().stop()};return{loadView:u,clearView:function(){t.clear()},startSpinner:function(){t.getSpinner().start(document.getElementById(r))},stopSpinner:v}}(r)}()},function(e,t,i){"use strict";!function(){var e=floorcast.services.apiService,t=floorcast.utils.miscUtils,i=floorcast.utils.timeUtils,n=floorcast.views,s=floorcast.models.DateInfo,o=floorcast.models.DataModels.DailySchedule,a=n.dailyScheduleView,r=(t.each,t.log),l=t.canParseJSON,c=e.getDailySchedule;e.getLatestSchedule;floorcast.controllers.dailyScheduleController=function(e){var t=[],n=e.getId(),a=function(n,s){t=[],i.validateDate(n)?c(n,s).done(function(e){d(e)}).fail(function(e){}).always(function(){u()}):(r("invalid schedule date: "+n,{type:"warn"}),e.init({error:!0}))},d=function(i){void 0!==(i=l(i)?JSON.parse(i):i)&&i.scheduleItems&&i.weekDate?i.weekDate===s.sessionDate?(t.push(new o({date:i.weekDate,congressNum:i.congress,heading:i.day[0].heading,floorActivity:i.scheduleItems.FloorActivity,postponedConsideration:i.scheduleItems.PostponedConsideration})),e.init({data:t})):a(s.sessionDate,!0):(r("Failed to load daily schedule",{type:"error"}),e.init({error:!0}))},u=function(){e.getSpinner().stop()};return{loadView:a,updateView:function(e){r("Updating daily schedule... "),t=[],d(e)},clearView:function(){e.clear()},startSpinner:function(){e.getSpinner().start(document.getElementById(n))},stopSpinner:u}}(a)}()},function(e,t,i){"use strict";!function(){var e=floorcast.config,t=floorcast.classes.event.NotificationCenter,i=floorcast.services.apiService,n=floorcast.services.memberDetailsService,s=floorcast.models.DateInfo,o=floorcast.utils.miscUtils,a=floorcast.utils.timeUtils,r=floorcast.views,l=floorcast.models.DataModels.Bill,c=r.legislativeActionsView,d=(i.getBillActivity,i.getBillActions),u=(i.getBillActionUpdates,o.each),f=o.log,p=o.compareObjects,v=(a.dateToObj,a.dateToString),h=(o.addZero,o.reapplyStripes,o.cloneSimpleObject);floorcast.controllers.legislativeActionsController=function(i){var a=[{event:"introducedBillDataLoaded",actionCode:"1000",view:i.getIntroducedView(),data:{}},{event:"reportedBillDataLoaded",actionCode:"5000",view:i.getReportedView(),data:{}},{event:"passedBillDataLoaded",actionCode:"8000",view:i.getPassedView(),data:{}},{event:"presentedBillDataLoaded",actionCode:"28000",view:i.getPresentedView(),data:{}},{event:"enactedBillDataLoaded",actionCode:"36000",view:i.getEnactedView(),data:{}}];u(a,function(i){!function(i){t.subscribe(i.event,function(t){var n=[],o=-1,a="",l=-1,c=[],d=[],h=[],m=[],g=i.data.bills.map(function(e){return e._id});t[0]?(t.map(function(e){return e._id}),u(t,function(t){n=t.bill.actions.detail.actions,o=n.map(function(e){return e.actionCode}).indexOf(i.actionCode),a=n[o].actionDate.split("T")[0],t.referenceDate=a,(e.simulationMode||-1!==s.previousWeek.indexOf(a))&&(-1===i.data.dates.indexOf(a)&&(i.data.dates.push(a),h.push(a)),-1===m.indexOf(a)&&m.push(a),-1===(l=g.indexOf(t._id))?(i.data.bills.push(t),d.push(t)):p(t,i.data.bills[l])||(f("Updating bill: "+t._id),i.data.bills[l]=t,c.push(t)))})):(i.view.init({error:!0}),i.view.updateTabCount(0)),d.length&&r(i,d,{isNew:!0}),c.length&&r(i,c,{isUpdating:!0}),u(h,function(e){i.view.getDropdownFilter().addFilter(v(e,{abbreviated:!0}))}),h.length&&i.view.getDropdownFilter()&&i.view.getDropdownFilter().sort("desc",!0)})}(i)});var r=function(e,i,s){var a={},r=[],d=e.data.bills.length||0,p=[],w="",y=[],D=null,T=(e=e.view,!!(s=s||{}).isNew),C=!!s.isUpdating;if((r=i instanceof Array?i:[i]).length){u(r,function(e){if(w="",a=e.bill,(D=a.titles).detail&&D.detail.titles)for(var t=0,i=D.detail.titles;t<i.length;t++)if(i[t].titleType.toLowerCase().indexOf("official title")>-1){w=i[t].title;break}y=[],a.committees.detail&&c(a.committees.detail.billCommittees,y),y.sort(function(e,t){var i=e.date.split("-").join(),n=t.date.split("-").join();return i>n?-1:i<n?1:0}),p.push(new l({legisNum:a.billType+" "+a.billNumber,title:a.title,officialTitle:w,sponsor:a.sponsors[0]?a.sponsors[0].fullName:"No sponsor",introduced:a.introducedDate,lastAction:a.latestAction.text,lastActionDate:a.latestAction.actionDate,referrals:y,referenceDate:v(e.referenceDate,{abbreviated:!0}),congressNum:o.getCongressNumFromBillId(e._id)}))});var S=h(p);if(g(S,e),e.getTable())C?(f("Updating bill actions: "+e.id),e.updateBills(S)):T&&(f("Adding new bills to table "+e.id),e.addBills(S),e.filterTable()),m(null,e);else{var $=n.getMemberCards(e.id);e.init({data:S}),m($,e),b(e),t.publish("viewLoaded",e.id)}e.getTableInfo().updateCount(d)}else e.getTable()||e.init({error:!0});e.updateTabCount(d),e.filterTable()},c=function(e,t,i){u(e,function(e){(i||e.chamber&&"house"===e.chamber.toLowerCase())&&(u(e.activities,function(i){"referred to"===i.name.toLowerCase()&&t.push({date:i.date.split("T")[0],committee:e.name})}),e.subcommittees&&e.subcommittees.length&&c(e.subcommittees,t,!0))})},m=function(e,t){e instanceof Array?u($(t.container+" .card-placeholder"),function(t,i){for(var n=$(t).attr("data-popoverId"),s=(i=0,e.length);i<s;i++)if(e[i].id===n){$(t).append(e[i].popover);break}}):(e=n.getMemberCards(t.id)).length&&$(t.container+" .card-placeholder").append(e.slice(-1)[0].popover),$(t.container+" .card-placeholder .popover").unwrap()},g=function(e,t){e=e instanceof Array?e:[e],u(e,function(e){e.sponsor=n.addMemberCardPlaceholders({text:e.sponsor,congress:e.congressNum,container:".tab-content-container",type:"sponsor",list:t.id})})},b=function(e){e.getSearchFilter().addListener(function(){e.filterTable()}),e.getDropdownFilter().addListener(function(){e.filterTable()})},w=function(e,t){e.getLastUpdated()&&(e.getLastUpdated().setTime(t),y(e))},y=function(e){e.getLastUpdated().show()};return{setLastUpdateTime:w,setLastUpdateTimes:function(e){u(i.getAllViews(),function(t){w(t,e)})},showLastUpdated:y,loadView:function(e){u(a,function(e){e.data={bills:[],dates:[],count:0}}),d(s.previousWeek[s.previousWeek.length-1],s.previousWeek[0])},startSpinner:function(){var e;u(i.getAllViews(),function(t){e=t.getId(),t.getSpinner().start(document.getElementById(e))})},stopSpinners:function(){var e;u(i.getAllViews(),function(t){e=t.getId(),t.getSpinner().stop(document.getElementById(e))})},clearView:function(){u(i.getAllViews(),function(e){e.clear()})},getView:function(e){for(var t=i.getAllViews(),n=0,s=t.length;n<s;n++)if(e===t[n].id)return t[n]}}}(c)}()},function(e,t,i){"use strict";!function(){var e=floorcast.config,t=e.websockets,i=floorcast.classes.event.NotificationCenter,n=(floorcast.services.apiService,floorcast.services.pollingService),s=floorcast.models.DateInfo,o=floorcast.utils.miscUtils,a=(floorcast.utils.timeUtils,floorcast.repos.floorRepository,floorcast.repos.transcriptRepository),r=(o.each,o.log),l=(o.formatBill,o.isEquivalent),c=floorcast.config.api.base+floorcast.config.api.routes.history;floorcast.controllers.socketController=function(){t.path,t.reconnect,t.reconnectAttempts;var o={lastActivityUpdate:null,lastBillUpdate:null,lastVoteUpdate:null,lastBillActionUpdate:null,lastDateChange:null,lastTranscriptUpdate:null,lastBillsThisWeekUpdate:null};return{connect:function(){var t=!1,d=0;const u=function(){d++,$.ajax({url:c,dataType:"json",type:"get",success:function(e){t?(o.lastActivityUpdate!==e.lastActivityUpdate&&n.getFloorUpdates(),o.lastVoteUpdate!==e.lastVoteUpdate&&n.getVoteUpdates(),o.lastBillUpdate!==e.lastBillUpdate&&n.getBillUpdates(),o.lastBillActionUpdate!==e.lastBillActionUpdate&&n.getBillActionUpdates(),o.lastBillsThisWeekUpdate!==e.lastBillsThisWeekUpdate&&n.getBillsThisWeekUpdates(),o.lastTranscriptUpdate!==e.lastTranscriptUpdate&&a.getTranscriptUpdates()):(i.publish("hideErrorModal"),t=!0,s.currentDate||s.loadDateInfo()),i.publish("changeVideoIconStatus",o.inSession),l(e,o)||(o=e,i.publish("historyLoaded"))},error:function(){console.log("Error!"),1==d?s.loadDateInfo():$.getJSON(e.staticFiles.floor,function(e){console.log(e),e._id&&i.publish("dataPolled",{type:"floor",results:e})}).fail(function(){r("Get "+e.staticFiles.floor+" request failed",{type:"error"})})}})};setInterval(function(){u()},3e4),u()},disconnect:function(){null.disconnect()},getHistory:function(){return o}}}()}()},function(e,t,i){"use strict";!function(){var e=floorcast.classes.event.NotificationCenter,t=floorcast.repos.transcriptRepository,i=floorcast.utils.miscUtils,n=floorcast.views.transcriptView,s=(i.each,i.log);i.reapplyStripes;floorcast.controllers.transcriptController=function(t,i){var n=i.getId(),o=function(){var n=t.getData();n.captionData.length?(i.init({data:n}),i.getTableInfo().updateCount(n.captionData.length),a()):i.init({error:!0}),n.captionData.length&&e.publish("viewLoaded","transcript"),l()},a=function(){i.getSearchFilter().addListener(function(){i.filterTable()}),i.getDropdownFilter().addListener(function(){i.filterTable()}),$("#"+i.getTableId()).on("click",".transcript-text",function(t){var i=$(this).closest("tr").find("td[data-actiontime]").attr("data-actiontime");t.target===this&&e.publish("setVideoTime",Math.ceil(i))})},r=function(){i.getLastUpdated()&&i.getLastUpdated().show()},l=function(){i.getSpinner().stop()};return{loadView:o,clearView:function(){i.clear()},startSpinner:function(){i.getSpinner().start(document.getElementById(n))},stopSpinner:l,addTranscriptItems:function(e,t){s("Adding transcript items"),s(e),i.getTable()?(i.addRow(e,t),i.filterTable()):o()},updateTranscriptItem:function(e){i.updateRow(e)},addToDropdown:function(e){i.getDropdownFilter().addFilters(e),i.getDropdownFilter().sort("asc",!0)},showLastUpdated:r,hideFooter:function(){i.hideFooter()},setLastUpdateTime:function(e){var t=i.getLastUpdated();t&&(t.setTime(e),"none"===$(t.selector).css("display")&&r())}}}(t,n)}()},function(e,t,i){"use strict";!function(){floorcast.classes.event.NotificationCenter;var e=floorcast.models.BroadcastEvent,t=floorcast.models.DateInfo,i=floorcast.views,n=floorcast.utils.miscUtils,s=i.videoView,o=(floorcast.utils.timeUtils,n.log),a=floorcast.config,r=a.videoIdleCountdown/1e3,l=a.videoIdleTimeout;floorcast.controllers.videoController=function(i){var n=i.getEventManager(),s=i.getId(),c=null,d=null,u=null,f=null,p=function(){b(),setTimeout(function(){e.loadBroadcastData(t.sessionDateSanitized)},1e3)},v=function(){var e=r;u=setInterval(function(){e--,i.setIdleTimer(e),e||(m(),i.removeIdleOverlay(),stop())},1e3)},h=function(e,t){var n=g(e);i.setCountdownText(n.difference>0?n.formattedTime:"00:00:00"),c=setInterval(function(){(n=g(e)).difference>0?i.setCountdownText(n.formattedTime):(m(),t())},1e3)},m=function(){c&&(clearInterval(c),c=null),u&&(clearInterval(u),u=null),d&&(clearTimeout(d),d=null)},g=function(e){var t=e.diff(moment()),i=moment.duration(t);return{difference:t,formattedTime:Math.floor(i.asHours())+moment.utc(t).format(":mm:ss")}},b=function(){i.getSpinner().start(document.getElementById(s))},w=function(){i.getSpinner().stop()},y=function(){null,i.clear()};return{getView:function(){return i},clearView:y,setCountdownView:function(e){var t=(g(moment(e))||{}).difference;i.showVideoCountdown(),i.showContainer(),i.destroyPlayer(),t>=0?(w(),h(moment(e),function(){p()})):i.showErrorMessage()},setVideoView:function(e){e,w(),i.loadVideo(e),i.showContainer(),i.showPlayer()},setVideolessView:function(){i.showVideoUnavailableMessage(),i.showContainer(),i.destroyPlayer(),w()},setNonSessionView:function(){i.hideContainer()},setErrorView:function(e){e=e||"",i.showErrorMessage(e),i.showContainer(),i.destroyPlayer(),w()},fetchLiveStream:p,startIdleTimeout:function(){d=setTimeout(function(){i.showIdleOverlay(r),v()},l)},startVideoStopTimeout:v,startCountdown:h,clearTimeouts:m,calculateTimeDifference:g,setVideoTime:function(e){var t=i.getPlayer();t&&t.setTime(e)},startSpinner:b,stopSpinner:w,bindViewListeners:function(){n.subscribe("onPlayerError",function(e){i.showErrorMessage(e)}),n.subscribe("onPlayerPause",function(){}),n.subscribe("onPlayerPlay",function(){m()}),n.subscribe("onFetchLiveStream",function(){p()}),n.subscribe("onPlayerSrcSet",function(){clearTimeout(f),f=setTimeout(function(){i.showErrorMessage("Video took too long to respond.")},a.videoLoadingTimeout)}),n.subscribe("onPlayerDataLoaded",function(){clearTimeout(f)})},bindDOMEvents:function(){var e=i.getConfig();$(document).on("click",e.reloadVideo,function(){o("reloading video"),i.destroyPlayer(),y(),p()}),$(document).on("click",e.resumeButton,function(){o("resuming video"),i.removeIdleOverlay(),i.getPlayer().play(),m()})}}}(s)}()},function(e,t,i){"use strict";!function(){var e=floorcast.classes.event.NotificationCenter,t=floorcast.repos.floorRepository,i=floorcast.services.apiService,n=(floorcast.services.pollingService,floorcast.models.DateInfo),s=floorcast.utils.miscUtils,o=(floorcast.utils.timeUtils,floorcast.views),a=floorcast.models.DataModels.Vote,r=o.votesView,l=s.each,c=s.log,d=(s.reapplyStripes,i.getVote,i.getVotes);i.getVoteUpdates;floorcast.controllers.votesController=function(t,i){var s=i.getId(),o=[],r=function(e,s){s=s||{};var o,r=t.getData().votes.length,d=[],f=!1,v=n.sessionYear,h=0,m=0,g=0,b=0,w=!!s.isUpdating,y=!!s.isNew;e=e instanceof Array?e:[e],l(e,function(e){f=!!e._id,o=new a(f?{congressNum:n.sessionCongress,rollCallNum:e.rollCallNum,legisNum:e.legisNum,type:e.voteType,question:e.voteQuestion,description:e.description,amendmentAuthor:e.amendmentAuthor,result:e.result,year:v,voteTotals:{}}:{congressNum:n.sessionCongress,rollCallNum:e.rollCallNum,legisNum:e.legisNum,year:v}),e&&e.voteTotals?(l(e.voteTotals,function(e){switch(e.option){case"yea":h=e.total;break;case"nay":m=e.total;break;case"present":g=e.total;break;case"not-voting":b=e.total}}),o.voteTotals={yea:h,nay:m,present:g,notVoting:b}):e&&e.candidateTotals&&(o.candidateTotals=e.candidateTotals),d.push(o)}),i.getTable()?w?(c("Updating vote"),i.updateRow(d[0])):y&&(c("Addding vote to table"),i.addRow(d[0]),i.filterTable()):(c("Initializing votes table"),i.init({data:d}),u(),p()),(y||w)&&i.addUpdateBadge(),i.updateTabCount(r),i.getTableInfo().updateCount(r)},u=function(){i.getSearchFilter().addListener(function(){i.filterTable()}),i.getDropdownFilter().addListener(function(){i.filterTable()})},f=function(){i.getLastUpdated()&&i.getLastUpdated().show()},p=function(){i.getSpinner().stop()};return{loadView:function(){var s=t.getData().votes||[],a=s.length||0,u=[],f=-1;a?d(n.sessionDate,n.nextSession||"").done(function(e){o=e,l(s,function(e){(f=o.map(function(e){return e.rollCallNum}).indexOf(e.rollCallNum))>-1?(u.push(o[f]),t.updateVote(e.rollCallNum)):u.push(e)}),r(u)}).fail(function(e){c("Error getting initial vote details",{type:"error"}),i.init({error:!0}),p()}).always(function(){e.publish("viewLoaded","votes")}):(i.init({error:!0}),i.updateTabCount(a),p())},clearView:function(){i.clear()},startSpinner:function(){i.getSpinner().start(document.getElementById(s))},stopSpinner:p,addVote:r,addUpdateBadge:function(){i.addUpdateBadge()},updateEmptyVotes:function(e){var i=t.getData().votes,n=-1,s=[];e.length&&e[0]&&(o=e),s=o.map(function(e){return e.rollCallNum}),l(i,function(e){e.hasDetails||(c("Checking for updates on Roll No. "+e.rollCallNum),(n=s.indexOf(e.rollCallNum))>-1&&(c("Updating Roll No. "+e.rollCallNum),t.updateVote(e.rollCallNum),r(o[n],{isUpdating:!0})))}),c("Done polling for vote updates")},setLastUpdateTime:function(e){var t=i.getLastUpdated();t&&(t.setTime(e),"none"===$(t.selector).css("display")&&f())},showLastUpdated:f,hideFooter:function(){i.hideFooter()}}}(t,r)}()},function(e,t){floorcast.data.stateKeyLookups={AQ:"American Samoa",DC:"District of Columbia",GU:"Guam",MP:"Northern Mariana Islands",PR:"Puerto Rico",VI:"Virgin Islands",AL:"Alabama",AK:"Alaska",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",FL:"Florida",GA:"Georgia",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming","American Samoa":"AQ","District of Columbia":"DC",Guam:"GU","Northern Mariana Islands":"MP","Puerto Rico":"PR","Virgin Islands":"VI",Alabama:"AL",Alaska:"AK",Arizona:"AZ",Arkansas:"AR",California:"CA",Colorado:"CO",Connecticut:"CT",Delaware:"DE",Florida:"FL",Georgia:"GA",Hawaii:"HI",Idaho:"ID",Illinois:"IL",Indiana:"IN",Iowa:"IA",Kansas:"KS",Kentucky:"KY",Louisiana:"LA",Maine:"ME",Maryland:"MD",Massachusetts:"MA",Michigan:"MI",Minnesota:"MN",Mississippi:"MS",Missouri:"MO",Montana:"MT",Nebraska:"NE",Nevada:"NV","New Hampshire":"NH","New Jersey":"NJ","New Mexico":"NM","New York":"NY","North Carolina":"NC","North Dakota":"ND",Ohio:"OH",Oklahoma:"OK",Oregon:"OR",Pennsylvania:"PA","Rhode Island":"RI","South Carolina":"SC","South Dakota":"SD",Tennessee:"TN",Texas:"TX",Utah:"UT",Vermont:"VT",Virginia:"VA",Washington:"WA","West Virginia":"WV",Wisconsin:"WI",Wyoming:"WY"}},function(e,t,i){"use strict";!function(){var e=floorcast.classes.event.NotificationCenter,t=floorcast.config;floorcast.models.BroadcastEvent={date:null,video:{type:null,url:null},captions:{type:null,url:null},loadBroadcastData:function(t){var i=this;floorcast.services.apiService.getBroadcastData(t).done(function(t){t.length&&t[0]?i.setBroadcastData(t[0]):i.resetData(),e.publish("broadcastDataLoaded")}).error(function(){i.loadBroadcastFile(t)})},loadBroadcastFile:function(i){console.log("error loading broadcast data");var n=this;$.getJSON(t.staticFiles.broadcast,function(t){console.log(t),t._id==i?n.setBroadcastData(t):n.resetData(),e.publish("broadcastDataLoaded")}).fail(function(){console.log("Get "+t.staticFiles.broadcast+" request failed")})},setBroadcastData:function(e){var t=(e.asset||{}).files||[],i=0,n=t.length,s=null;for(this.date=e._id;i<n;i++)switch(((s=t[i]).type||"").toLowerCase()){case"webvtt":this.captions.type=s.type,this.captions.url=s.url;break;case"smoothstreamingmanifest":this.video.type=s.type,this.video.url=s.url}},resetData:function(){this.date=null,this.video.type=null,this.video.url=null,this.captions.type=null,this.captions.url=null}}}()},function(e,t,i){"use strict";!function(){var e=floorcast.utils.miscUtils,t=floorcast.utils.timeUtils;floorcast.models.DataModels={FloorActivity:function(e){this.uniqueId=e.uniqueId||"",this.updateDateTime=e.updateDateTime||"",this.actionTime=e.actionTime||"",this.actionTimeUTC=e.actionTimeUTC||0,this.actionId=e.actionId||null,this.legisNum=e.legisNum||"",this.description=e.description||"",this.billLink=e.billLink||""},Bill:function(e){this.legisNum=e.legisNum||"",this.title=e.title||"",this.officialTitle=e.officialTitle||"",this.sponsor=e.sponsor||"",this.introduced=e.introduced||"",this.lastAction=e.lastAction||"",this.lastActionDate=e.lastActionDate||"",this.referrals=e.referrals||[],this.referenceDate=e.referenceDate||"",this.congressNum=e.congressNum||0},Vote:function(e){this.rollCallNum=e.rollCallNum||"",this.legisNum=e.legisNum||"",this.type=e.type||"",this.question=e.question||"",this.description=e.description||"",this.amendmentAuthor=e.amendmentAuthor||"",this.result=e.result||"",this.year=e.year||"",this.congressNum=e.congressNum||0,this.voteTotals=e.voteTotals?{yea:e.voteTotals.yea||0,nay:e.voteTotals.nay||0,present:e.voteTotals.present||0,notVoting:e.voteTotals.notVoting||0}:null},Meeting:function(e){this.url=e.url||"",this.title=e.title||"",this.organizer=e.organizer||"",this.location=e.location||"",this.startDate=e.startDate||"",this.status=e.status||""},Transcript:function(e){this.id=e.id||"",this.speaker=e.speaker||"",this.text=e.text||"",this.time=e.time||"",this.videoTime=e.videoTime||""},DailySchedule:function(e){this.date=e.date||"",this.congressNum=e.congressNum||0,this.heading=e.heading||"",this.floorActivity=e.floorActivity||"",this.postponedConsideration=e.postponedConsideration||""},BillsThisWeek:function(e){},JsonLD:function(i){i||(i={}),this["@context"]="http://schema.org",this["@type"]="VideoObject",this.name=i.congress?e.format("LEGISLATIVE DAY OF %s",t.dateToString(i.sessionDate).toUpperCase()):"Not a legislative day",this.description=i.congress?e.format("The U.S. House of Representatives Floor Proceedings for the %s Congress, %s Session on %s",i.congress,i.session,t.dateToString(i.sessionDate)):"Not a legislative day",this.thumbnailUrl="https://clerkpreview.house.gov/assets/.../liveThumb.jpg",this.uploadDate=i.congress?e.format("%sT10:00:00+08:00",i.sessionDate):null,this.duration="PT1M33S",this.embedUrl=i.congress?e.format("https://live.house.gov/?date=%s",i.sessionDate):null}}}()},function(e,t,i){"use strict";!function(){var e=floorcast.config,t=floorcast.utils,i=t.miscUtils.each,n=t.miscUtils.log,s=t.timeUtils.getESTDate,o=t.timeUtils.dateToObj,a=(t.timeUtils.validateDate,t.miscUtils.addZero),r=t.miscUtils.sanitize,l=t.miscUtils.getParam,c=floorcast.classes.event.NotificationCenter;floorcast.models.DateInfo={currentCongress:null,isLive:!1,liveDate:null,currentDate:null,lastLegisDay:null,defaultDate:null,defaultPrev:null,sessionDate:null,sessionDateSanitized:null,sessionYear:null,sessionCongress:null,sessionCongressSession:null,sessionDateObj:null,nextStartDate:null,nextSession:null,prevSession:null,isDefaultOrLive:!1,daysInSession:[],sessionYears:[],previousWeek:[],initialized:!1,getDaysInSession:function(e){this.sessionYears.indexOf(e)<0&&(this.sessionYears.push(e),floorcast.services.apiService.getDaysInSession(e))},addDaysInSession:function(e){var t,n=this;i(e,function(e){t=e.startDate.split("T")[0],n.daysInSession[t]=t})},getPreviousWeek:function(e){var t;this.previousWeek=[];for(var i=0;i<7;i++)t=moment(o(e).valueOf()-24*i*60*60*1e3),this.previousWeek.push(t.year()+"-"+a(t.month()+1)+"-"+a(t.date()))},setDate:function(e){this.setCurrentDate(),e?(this.sessionDate=e,this.sessionDateSanitized=r(e),this.sessionYear=e.split("-")[0],this.getPreviousWeek(e)):(this.sessionDate=this.defaultDate,this.sessionDateSanitized=r(this.defaultDate),this.sessionYear=this.defaultDate.split("-")[0],this.getPreviousWeek(this.defaultDate)),this.isDefaultOrLive=this.sessionDate===this.liveDate||this.sessionDate===this.defaultDate,n("Setting date to: "+e)},checkIfWithinStartRange:function(){return(moment(this.nextStartDate)-s())/36e5<=e.hoursPriorToSession||this.currentDate===this.nextSession&&moment().hours()>=e.hourToSwitchSession},setCurrentDate:function(){var e=moment(),t=e.year(),i=a(e.month()+1),n=a(e.date());this.currentDate=t+"-"+i+"-"+n},updateLiveAndDefaultDates:function(e){this.liveDate=e,this.defaultDate=e},updateCurrentDateInfo:function(e){var t=e,i=t.startDate.split("T")[0],n=(t.startDate,t.nextStartDate,t.nextStartDate.split("T")[0]);this.setCurrentDate(),this.currentCongress=e.superEvent.congressNum,this.nextStartDate=e.nextStartDate||"",this.nextSession=e.nextStartDate.split("T")[0]||"",this.lastLegisDay=e.startDate.split("T")[0],this.liveDate=this.nextSession||this.currentDate,this.currentDate===i||this.currentDate===n?this.defaultDate=this.checkIfWithinStartRange()?this.liveDate:this.lastLegisDay:this.defaultDate=i,this.determineLiveStatus(e)},updateSessionDateInfo:function(e){void 0!==e&&0!==Object.keys(e).length?(this.nextStartDate=e.nextStartDate||"",this.nextSession=e.nextStartDate.split("T")[0]||"",this.prevSession=this.isDefaultOrLive&&this.sessionDate===this.nextSession?this.lastLegisDay:e.prevEndDate.split("T")[0]||this.defaultDate,this.sessionDateObj=o(e.startDate),this.sessionCongress=e.superEvent.congressNum||"",this.sessionCongressSession=e.superEvent.sessionNum):(this.nextSession="",this.prevSession=this.defaultDate,this.sessionDateObj=null,this.sessionCongress=null)},determineLiveStatus:function(e){typeof e!==Array&&(e=[e]),this.isLive=!(!e.length||e[0].nextStartDate)},loadDateInfo:function(){var t=this,i=0;function callFloor(){floorcast.services.apiService.getFloor().done(function(e){t.initialized=!0;var i=l("date");e._id||e.id?(t.updateCurrentDateInfo(e),t.getDaysInSession(parseInt(t.currentDate.split("-")[0])),n("Done setting date info"),c.publish("dateInfoInitialized",i)):retry()}).fail(function(e){console.log("Failed getting floor info"),retry()})}function retry(){++i<=e.connectionAttemptLimit?(n("Could not load date info: Retry #"+i,{type:"error"}),setTimeout(function(){callFloor()},e.retryTimeout)):(n("Probleming loading date info",{type:"error"}),function(){var i=l("date");$.getJSON(e.staticFiles.floor,function(e){console.log(e),e._id&&(t.updateCurrentDateInfo(e),n("Done setting date info"),c.publish("dateStaticInfoInitialized",i))}).fail(function(){n("Get "+e.staticFiles.floor+" request failed",{type:"error"})})}())}callFloor()}}}()},function(e,t,i){"use strict";!function(){var e=floorcast.config,t=floorcast.classes.event.NotificationCenter,i=floorcast.models.DataModels.FloorActivity,n=floorcast.models.DateInfo,s=floorcast.services.apiService,o=floorcast.utils,a=o.timeUtils.dateToObj,r=o.miscUtils.each,l=o.miscUtils.log;floorcast.repos.floorRepository={activities:[],bills:[],billsFromFloor:[],votes:[],addBill:function(e){e.lastFloorAction||(e.lastFloorAction=this.findLastAction(e.legisNum)),e.details||(e.details={}),this.bills.push(e)},updateBill:function(e,t){t&&(this.bills[e].details=t)},findBill:function(e){return this.bills[this.bills.map(function(e){return e.legisNum}).indexOf(e)]},addVote:function(e){this.votes.push(e)},updateVote:function(e){var t=this.votes.map(function(e){return e.rollCallNum}).indexOf(e);this.votes[t].hasDetails=!0},addActivity:function(e){this.activities.unshift(e)},updateActivity:function(e){var t=this.activities.map(function(e){return e.uniqueId}).indexOf(e.uniqueId);this.activities[t]=e},removeActivity:function(e){this.activities.splice(e,1)},findLastAction:function(e){var t=this.activities.map(function(e){return e.legisNum}).indexOf(e);return t>-1?this.activities[t].description:null},reset:function(){this.activities=[],this.bills=[],this.votes=[]},getData:function(){return{activities:this.activities,bills:this.bills,votes:this.votes,congressNum:n.sessionCongress}},addData:function(e,n){var s=null,o={},c={},d=null,u=null,f=null,p=!0,v=[],h=null,m=[],g=0,b=!!(n=n||{}).isPolling,w=0,y=this;b&&l("(Polling) Comparing data"),r(e,function(e){m.push(e.uniqueId),o=new i({uniqueId:e.uniqueId,updateDateTime:e.updateDateTime,actionTime:e.actionTime,actionTimeUTC:a(e.actionTime).valueOf(),actionId:e.actionId,legisNum:e.legisNum,description:e.description}),(f=y.activities.map(function(e){return e.uniqueId}).indexOf(o.uniqueId))>-1&&y.activities[f].description!==o.description?b&&(l("(Polling) Updating activity: "+e.description),y.updateActivity(o),c={action:o},o.uniqueId===y.activities[0].uniqueId&&(c.updateAction=!0),t.publish("updatedActivity",c)):-1===f&&(y.addActivity(o),y.activities.sort(function(e,t){return e.actionTimeUTC>t.actionTimeUTC?-1:1}),b&&(l("(Polling) New activity: "+o.description),c={action:o},1===++w&&o.uniqueId===y.activities[0].uniqueId&&(c.updateAction=!0),t.publish("newActivity",c))),e.legisNum&&(h=y.findBill(e.legisNum)||null,(p=!(v.indexOf(e.legisNum)>-1))&&v.push(e.legisNum),u=y.bills.map(function(e){return e.legisNum}).indexOf(e.legisNum),-1===y.billsFromFloor.indexOf(e.legisNum)&&(y.billsFromFloor.push(e.legisNum),u>-1&&t.publish("newBill",{bill:h})),u<0?(y.addBill({legisNum:e.legisNum,lastFloorAction:e.description}),h=y.findBill(e.legisNum),b&&(l("(Polling) New bill: "+e.legisNum),t.publish("newBill",{bill:h}))):b&&p&&h.lastFloorAction!==e.description&&(h.lastFloorAction=e.description,Object.keys(h.details).length&&t.publish("updatedBill",h.details))),(s=e.description.match(/rollnumber=(.*?)\"/))&&(d=s[1],y.votes.map(function(e){return e.rollCallNum}).indexOf(d)<0&&d&&(y.addVote({rollCallNum:d,legisNum:e.legisNum,hasDetails:!1}),b&&(l("(Polling) New vote: Roll No. "+d),t.publish("newVote",{rollCallNum:d,legisNum:e.legisNum}))))});g=0;for(var D={};g<this.activities.length;)D=this.activities[g],-1===m.indexOf(D.uniqueId)?(l("Removing activity: "+D.uniqueId),y.removeActivity(g),t.publish("removedActivity",D)):g++},loadFloorData:function(e){var i=this;s.getFloor(e).done(function(e){i.handleData(e),t.publish("activityLoaded")}).fail(function(e){l("Failed to load repo data",{type:"error"}),i.loadFloorFile()})},loadFloorFile:function(){var i=this;$.getJSON(e.staticFiles.floor,function(e){console.log(e),e._id&&(i.handleData(e),t.publish("activityStaticLoaded"))}).fail(function(){l("Get "+e.staticFiles.floor+" request failed",{type:"error"})})},handleData:function(t){var i=[],s=t instanceof Array?t[0]:t instanceof Object?t:{};n.updateSessionDateInfo(s),l(s),(e.simulationMode&&void 0!==s||void 0!==s&&0!==Object.keys(s).length&&s._id===n.sessionDateSanitized)&&(i=s.subEvent,this.addData(i))}}}()},function(e,t,i){"use strict";!function(){var e=floorcast.utils,t=floorcast.classes.event.NotificationCenter,i=floorcast.models.DateInfo,n=(floorcast.models.DataModels.FloorActivity,floorcast.services.apiService),s=floorcast.models.DataModels.Transcript,o=e.miscUtils.each,a=e.miscUtils.log,r=e.miscUtils.toTitleCase,l=e.timeUtils.addSeconds,c=(e.timeUtils.timestampToSeconds,e.miscUtils.compareObjects);floorcast.repos.transcriptRepository={unmodifiedTranscriptData:[],captionData:[],speakers:[],timestamps:[],timeOffset:null,nextId:1,createTranscriptItem:function(e){return new s({id:this.nextId++,speaker:e.speaker,text:e.text,time:l(parseInt(e.timestamp-this.timeOffset),i.sessionDateObj),videoTime:e.timestamp})},addSpeaker:function(e){this.speakers.push(e)},addCaption:function(e){this.captionData.push(e)},updateCaption:function(e){var i=this.captionData.map(function(e){return e.id}).indexOf(e.id);this.captionData[i].text=e.text,t.publish("captionUpdate",e)},reset:function(){this.unmodifiedTranscriptData=[],this.captionData=[],this.speakers=[],this.timestamps=[],this.timeOffset=null,this.nextId=1},getData:function(){return{captionData:this.captionData,speakers:this.speakers,timestamps:this.timestamps,timeOffset:this.timeOffset}},loadTranscriptData:function(e){var s=this;n.getSessionTranscript(e).done(function(e){void 0!==e&&e.length&&i.sessionDateObj&&(i.isDefaultOrLive&&i.sessionDate===i.nextSession||s.handleData(e,{initial:!0}))}).fail(function(e){a("Failed to load transcript repo data",{type:"error"})}).always(function(){t.publish("transcriptLoaded")})},getTranscriptUpdates:function(){var e=this;n.getTranscriptUpdates(e.unmodifiedTranscriptData).done(function(t){a("Successfully recieved transcript updates"),a(t),e.unmodifiedTranscriptData.concat(t.newEntries),e.handleData(t,{sendUpdates:!0})}).fail(function(e){a("Error getting transcript updates: "+e,{type:"error"})})},handleData:function(e,i){var n=this,s=i||{},a=s.initial?e:e.newEntries||[],l=e.previousEntry,d=n.captionData.slice(-1)[0],u=[],f=[];n.timeOffset||(n.timeOffset=a[0].timestamp),l&&d&&!c(l,d)&&(d.text=l.text,n.updateCaption(d)),o(a,function(e){var t=n.createTranscriptItem(e),i=r(e.speaker),s=n.speakers.indexOf(i)<0;n.unmodifiedTranscriptData.push(e),n.addCaption(t),u.push(t),s&&(n.addSpeaker(i),f.push(i))}),s.sendUpdates&&(t.publish("dataPolled",{type:"transcript",results:u}),f.length&&t.publish("newSpeakers",f))}}}()},function(e,t,i){"use strict";!function(){var e=floorcast.config,t=floorcast.models.DateInfo,i=e.api,n=i.base,s=i.routes,o=floorcast.utils.miscUtils,a=o.each,r=o.log,l=floorcast.classes.event.NotificationCenter,c="",d=[{actionCode:"1000",eventChannel:"introducedBillDataLoaded"},{actionCode:"5000",eventChannel:"reportedBillDataLoaded"},{actionCode:"8000",eventChannel:"passedBillDataLoaded"},{actionCode:"28000",eventChannel:"presentedBillDataLoaded"},{actionCode:"36000",eventChannel:"enactedBillDataLoaded"}];floorcast.services.apiService=function(){var e=function(e,t,i){return $.ajax({url:e,data:i,type:t||"get"})};return{getFloor:function(i){return c=t.isDefaultOrLive||!i?n+s.floorUpdates:n+s.floor+i,e(c)},getVote:function(t,i){return c=n+s.votes+i+t,e(c)},getVotes:function(i,o){return c=t.isDefaultOrLive?n+s.voteUpdates:n+s.votes+"?start="+i+(o?"&end="+o:""),e(c)},getBill:function(t,i){return c=n+s.bills+i+t,e(c)},getBills:function(i,o){return c=t.isDefaultOrLive?n+s.billUpdates:n+s.bills+"?start="+i+(o?"&end="+o:""),e(c)},getBillActions:function(i,o){t.initialized&&(t.isDefaultOrLive?(c=n+s.billActionUpdates,e(c).done(function(e){a(e,function(e){l.publish(e.action+"BillDataLoaded",e.bills)})}).fail(function(e){r(e,{type:"error"})})):a(d,function(t){c=n+s.billActions+"?start="+i+(o?"&end="+o:"")+(t.actionCode?"&actionCode="+t.actionCode:""),e(c).done(function(e){l.publish(t.eventChannel,e)}).fail(function(e){r(e,{type:"error"})})}))},getDailySchedule:function(e,t){},getCommitteeMeetings:function(i,o){c=t.isDefaultOrLive&&!o?n+s.latestMeetings:n+s.committeeMeetings+i;e(c).done(function(e){l.publish("meetingDataLoaded",e)}).fail(function(e){r(e,{type:"error"})})},getDaysInSession:function(t){c=n+s.sessions+t;e(c).done(function(e){l.publish("daysInSessionLoaded",e)}).fail(function(e){r(e,{type:"error"}),l.publish("daysInSessionLoaded",[])})},getSessionTranscript:function(i){return c=t.isDefaultOrLive||!i?n+s.latestTranscript:n+s.transcript+i,e(c)},getTranscriptUpdates:function(t){return c=n+s.transcriptUpdates,e(c,"post",{data:JSON.stringify(t)})},getMember:function(t){return c=n+s.members+t,e(c)},getMemberNameExceptions:function(){return c=n+s.memberNameExceptions,e(c)},getAllMemberDetails:function(){return c=n+s.members,e(c)},getBroadcastData:function(t){return c=n+s.broadcastEvents+"/"+t,e(c)},getBillsThisWeek:function(i){return c=t.isDefaultOrLive?n+s.latestBillsThisWeek:n+s.billsThisWeek+i,e(c)}}}()}()},function(e,t,i){"use strict";!function(){var e=floorcast.config,t=floorcast.models.DateInfo,i=floorcast.services.apiService,n=i.getMember,s=i.getMemberNameExceptions,o=i.getAllMemberDetails,a=floorcast.utils.miscUtils,r=a.each,l=a.eachObj,c=(a.addZero,a.log),d=a.escapeRegExp,u=(a.createBioguideLink,a.createProfileLink),f=a.createImgLink,p=a.getAlternateStateFormat,v=a.waitForImageToLoad,h=(floorcast.models.DataModels.Member,floorcast.classes.event.NotificationCenter),m=floorcast.classes.ui.Popover,g=floorcast.data.stateKeyLookups,b=floorcast.classes.ui.Spinner;floorcast.services.memberDetailsService=function(){var i=function(){var e=[];return l(g,function(t){t.length>2&&e.push(t)}),e}(),a=[],w=null,y=new RegExp("(of )([a-z]{2}$|"+i.join("|")+")","i"),D=/[a-z]{2}-(?:[0-9]+|At Large)(?=\]$)/i,T=/(.)+(?= \[[a-z]-[a-z]{2}-(?:[0-9]+|At Large)\]$)/i,C=/^[0-9]+$/,S=[],$=[],k=[],L={},I={},N={},U=!1,x=!1,A=function(e){return a[a.findIndex(function(t){return t.bioguideId===e||t.state+"-"+t.district===e})]},_=function(e){l(e,function(t){r(e[t],function(e){$.push(e)})}),k=$.map(function(e){return e.name}),S=$.map(function(e){return d(e.name)}).concat((I.duplicateNames||[]).map(function(e){return e.altName})).concat((I.duplicateNames||[]).map(function(e){var t=p(e.altName.slice(-2));return e.altName.replace(/\w+$/i,t)})),V()},V=function(){w=new RegExp("(mr\\.|ms\\.|mrs\\.|miss)(\\s)("+S.join("|")+")(?=[\\W])(?: of [a-z]{2}\\b)?(?: \\([a-z]{2}\\))?(?: of ("+i.join("|")+"))?","gi")},B=function(e){for(var t=0,i=k.length;t<i;t++)if(O(e.toLowerCase()).toLowerCase()===k[t].toLowerCase())return $[t].bioguideId;return e},F=function(e){if(!e.contentLoaded){e.contentLoaded=!0;var t=A(e.identifier),i=f(t.bioguideId);v(i,function(i){t.imgUrl=i.url,setTimeout(function(){e.loadContent(function(e,t){return"<div class='member-card'><div class='member-card__photo'><img src='"+e.imgUrl+"' alt='Photo of "+M(e)+"' /></div><div class='member-card__name'><a href='"+u(e.bioguideId)+"'>"+M(e)+"</a></div><div class='member-card__category'><span class='member-card__label'>State</span><span class='member-card__text'>"+p(e.state)+"</span></div><div class='member-card__category'><span class='member-card__label'>District</span><span class='member-card__text'>"+e.displayDistrict+"</span></div><div class='member-card__category'><span class='member-card__label'>Party</span><span class='member-card__text'>"+e.party+"</span></div></div>"}(t))},i.preloaded?0:500)})}},O=function(e){if(y.test(e)){var t=y.exec(e)[2];return t.length>2&&(t=p(t)),e.replace(y,"("+t+")")}return e},M=function(e){return e.position.substr(0,3)+". "+e.familyName+", "+e.givenName};return{loadAllMemberDetails:function(){o().done(function(e){c("Loaded all member details"),(a=e).map(function(e){return e.bioguideId}),x=!0,h.publish("checkIfMemberDetailsLoaded")}).error(function(e){c("Error loading all member details",{type:"error"})})},loadExceptionsList:function(){s().done(function(e){c("Loaded member exceptions list"),c(e),_(I=e),U=!0,h.publish("checkIfMemberDetailsLoaded")}).error(function(e){c("Error loading member name exceptions",{type:"error"})})},findMember:function(e){if(L[e])return L[e];n(e).done(function(t){c(t),L[e]=t}).error(function(e){c("Error getting member details",{type:"error"})})},findPreloadedMember:A,addMemberCardPlaceholders:function(i){var n=(i=i||{}).text,s=i.container,o=(i.regExp,i.type),a=i.list,r=(i.congress||t.sessionCongress,null),l="",c=null,u=null;C.test(t.currentCongress)?t.currentCongress:t.currentCongress.split(":")[1];switch(N[a]||(N[a]=[]),o.toLowerCase()){case"activity":c=w;break;case"sponsor":c=D}if(null!==c&&e.addMemberCards&&t.isDefaultOrLive)for(var f=null,p=null,v=null;f=c.exec(n);){switch(c.lastIndex=-1,o.toLowerCase()){case"activity":r=B(f[3]),l=f[0],u=new RegExp("("+d(f[0])+")","i");break;case"sponsor":v=T.exec(n)[0],r=f[0],l=v,u=v}if((p=new m({id:a+"-popover-"+parseInt(N[a].length+1),triggerText:l,identifier:r,offsetTarget:s,waitForContent:!0,spinner:new b})).addTriggerFunction(function(){F(this)}),N[a].push(p),n=n.replace(u,"<span class='card-placeholder' data-popoverId='"+p.id+"'></span>"),"sponsor"===o)break}return n},getMemberCards:function(e){return N[e]},resetMemberCards:function(){r(Object.keys(N),function(e){N[e]=[]})},checkIfDataIsLoaded:function(){return U&&x}}}()}()},function(e,t,i){"use strict";!function(){var e=floorcast.services.apiService,t=floorcast.classes.event.NotificationCenter,i=floorcast.utils.miscUtils.log;floorcast.services.pollingService={getFloorUpdates:function(){e.getFloor().done(function(e){void 0!==e&&t.publish("dataPolled",{type:"floor",results:e})})},getBillUpdates:function(){e.getBills().done(function(e){i("Done grabbing bill data"),i(e),void 0!==e&&t.publish("dataPolled",{type:"bills",results:e})})},getVoteUpdates:function(){e.getVotes().done(function(e){i("Done grabbing vote data"),void 0!==e&&t.publish("dataPolled",{type:"votes",results:e})})},getBillActionUpdates:function(){e.getBillActions()},getBillsThisWeekUpdates:function(){e.getBillsThisWeek().done(function(e){i("Done grabbing bills this week updates"),i(e),void 0!==e&&t.publish("dataPolled",{type:"billsthisweek",results:e})})}}}()},function(e,t,i){"use strict";!function(){var e=floorcast.config,t=e.externalLinks.congress,n=e.clerkSiteUrl,s=e.externalLinks.evs,o=e.externalLinks.votes,a=(e.isOnCampus,e.loggingLevel),r=floorcast.data.stateKeyLookups,l=i(202),c={},d=["hr","hres","hconres","hjres","s","sres","sconres","sjres"],u=/^[\d]+/,f=/\d+|\D+/g,p=/\d/;floorcast.utils.miscUtils={log:function(e,t){var i=function(e){return"warn"!==e&&"error"!==e||(t.override=!0),function(t){switch(e){case"info":return console.info(messge);case"warn":return console.warn(t);case"error":return console.error(t);default:return console.log(t)}}}((t=t||{}).type);switch(a){case 2:i(e);break;case 1:t.override&&i(e)}},format:function(e){var t,i=Array.prototype.slice.call(arguments,this.format.length),n=0;for(t=i.length;n<t;n++)e=e.replace(/(\%s)/,i[n]);return e},addZero:function(e){return parseInt(e)<10&&(e="0"+e),e},each:function(e,t){for(var i,n=0;i=e[n++];)t(i,n-1)},eachObj:function(e,t){for(var i in e)e.hasOwnProperty(i)&&t(i)},sanitize:function(e,t){return e.replace||v.log("Replace is not a function: "+e),t&&t.removeWhitespace?e.replace(/[^a-zA-Z0-9]/g,""):e.replace(/[^a-zA-Z0-9 ]/g,"")},escapeRegExp:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},compareObjects:function(e,t){return JSON.stringify(e)===JSON.stringify(t)},makeInvisible:function(e){e.css({visibility:"hidden",cursor:"default"})},makeVisible:function(e){e.css({visibility:"visible",cursor:"pointer"})},getParam:function(e){var t={};return window.location.href.replace(location.hash,"").replace(/[?&]+([^=&]+)=?([^&]*)?/gi,function(e,i,n){t[i]=void 0!==n?n:""}),e?t[e]?t[e]:null:t},getCongressNumFromBillId:function(e){var t=u.exec(e);return t?t[0]:null},createCongressLink:function(e,i){if(e&&v.validateLegisNum(e)){var n=e.replace(/\s|\./gi,""),s=n.match(/^[a-zA-Z]+/),o=n.match(/[\d]+$/),a=s?s[0]:"",r=o?o[0]:"";return"<a href='"+t+i+"/"+a+"/"+r+"'>"+e+"</a>"}return""},createCongressionalRecordLink:function(t){return"<a href='"+e.externalLinks.congressionalRecord+(t||"")+"'>Congressional Record</a>"},validateLegisNum:function(e){e=e.replace(/[^a-zA-Z]/g,"").toLowerCase();for(var t=0,i=d.length;t<i;t++)if(e===d[t])return!0;return!1},createVoteLink:function(e,t){var i=e;return i<10?i="00"+i:i<100&&(i="0"+i),"<a href="+s+t+"/roll"+i+".xml><span class='vote-roll'>Roll no.</span> "+e+"</a>"},createVoteDetailsLink:function(e,t){return"<a href="+o+"/"+t.toString()+e.toString()+"><span class='vote-roll'>Roll no.</span> "+e+"</a>"},createBioguideLink:function(e){return"<a href=http://bioguide.congress.gov/scripts/biodisplay.pl?index="+e+">"+e+"</a>"},createBtwDownloadLink:function(t){return t=t.replace(/-/g,""),"<a href='"+e.externalLinks.billsThisWeekDownload+"/"+t+"/"+t+".xml'><i class='fa fa-download' aria-hidden='true'></i><span class='ml-sm'>Download XML</span></a>"},createProfileLink:function(t){return e.clerkSiteUrl+"/members/"+t},createImgLink:function(e){return n+"/Content/assets/img/members/"+e+".jpg"},formatBill:function(e){var t=e.replace(/\s|\./gi,""),i=t.match(/^[a-zA-Z]+/),n=t.match(/[\d]+$/),s=i?i[0]:"",o=n?n[0]:"";switch(s.toUpperCase()){case"HR":i="H.R.";break;case"HCONRES":i="H. Con. Res.";break;case"HRES":i="H. Res.";break;case"HJRES":i="H.J. Res.";break;case"S":i="S.";break;case"SRES":i="S. Res.";break;case"SCONRES":i="S. Con. Res.";break;case"SJRES":i="S.J. Res.";break;default:i=""}return s&&o?i+" "+o:""},reapplyStripes:function(e,t){var i=v.getParam("theme")||"clerk1";$(e).hide(),"body"===t?($(e+" tbody.filtered").removeClass("visibleRow"),$(e+" tbody").not(".filtered").addClass("visibleRow")):"row"==t&&($(e+" tr.filtered").removeClass("visibleRow"),$(e+" tbody tr").not(".filtered").addClass("visibleRow")),"clerk1"===i?($(e+" .visibleRow:even").css({background:"#fff"}),$(e+" .visibleRow:odd").css({background:"#f5f5f5"})):"clerk2"===i?($(e+" .visibleRow:even").css({background:"#fff"}),$(e+" .visibleRow:odd").css({background:"#fff8e7"})):"classic"===i&&($(e+" .visibleRow:even").css({background:"#f3f3f3"}),$(e+" .visibleRow:odd").css({background:"#ebebeb"})),$(e).show()},cmpStringsWithNumbers:function(e){var t=e.toLowerCase()||"asc";return t.match(/^(ascending||asc||up)$/)?t="asc":t.match(/^(descending||desc||down)$/)&&(t="desc"),function(e,i){e=e.textContent?e.textContent.toUpperCase():e.toUpperCase,i=i.textContent?i.textContent.toUpperCase():i.toUpperCase;var n,s=e.match(f),o=i.match(f);if(s&&o&&(n=p.test(s[0]))==p.test(o[0]))for(var a=Math.min(s.length,o.length),r=0;r<a;r++){var l=s[r],c=o[r];if(n&&(l=parseInt(l,10),c=parseInt(c,10)),l!=c)return"asc"===t?l<c?-1:1:l>c?-1:1;n=!n}return"asc"===t?(e>=i)-(e<=i):(e>=i)+(e<=i)}},waitForImageToLoad:function(e,t){var i={url:e};if(c[e])i.preloaded=!0,t(i);else{var n=new Image;i.preloaded=!1,n.onload=function(){console.info("Loaded: "+e),c[e]=e,t(i)},n.onerror=function(){console.error("Cannot load: "+e),c[e]=l,v.waitForImageToLoad(l,t)},n.src=e}},getAlternateStateFormat:function(e){return e[3]&&(e=v.toTitleCase(e)),r[e]},cloneSimpleObject:function(e){return JSON.parse(JSON.stringify(e))},canParseJSON:function(e){try{var t=JSON.parse(e);if(t&&"object"==typeof t)return!0}catch(e){return!1}return!1},toTitleCase:function(e){return e.toLowerCase().replace(/[a-z]+/gi,function(e){return e.charAt(0).toUpperCase()+e.substr(1)})},findAncestor:function(e,t){if("function"==typeof e.closest)return e.closest(t)||null;for(;e;){if(e.matches(t))return e;e=e.parentElement}return null},toHttps:function(e){return e?e.replace(/^http:\/\//,"https://"):""},addJsonLdScript:function(e){var t=document.querySelector("head"),i=document.createElement("script"),n=document.getElementById("jsonLdScript");n&&n.remove(),i.id="jsonLdScript",i.type="application/ld+json",i.innerText=JSON.stringify(e),t.appendChild(i)},isEquivalent:function(e,t){var i=void 0===e||null===e,n=void 0===t||null===t;if(i&&n)return!0;if(!i&&n&&i&&!n)return!1;for(var s=Object.getOwnPropertyNames(e),o=(Object.getOwnPropertyNames(t),0);o<s.length;o++){var a=s[o];if(e[a]!==t[a])return!1}return!0}};var v=floorcast.utils.miscUtils}()},function(e,t,i){"use strict";!function(){var e=["January","February","March","April","May","June","July","August","September","October","November","December"],t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i={hours:36e5,minutes:6e4,seconds:1e3},n=/^\d{4}\-\d{2}\-\d{2}$/;floorcast.utils.timeUtils={toMilliseconds:function(e,t){return e*i[t]},getESTDate:function(){return moment()},validateDate:function(e,t){var i=moment(e,"YYYY-MM-DD",!0);return n.test(e)&&i.isValid()},getLastMonday:function(e){return s.validateDate(e)?moment(e).startOf("isoWeek").format("YYYY-MM-DD"):null},dateToObj:function(e){var t,i,n,s,o,a,r,l;return e.split("T")[1]?(t=(e=e.split("T"))[0].split("-"),i=e[1].split(":"),n=t[0],s=t[1],o=t[2],a=i[0],r=i[1],l=i[2]):(n=(t=e.split("-"))[0],s=t[1],o=t[2],a=r=l="00"),moment(n+"-"+s+"-"+o+" "+a+":"+r+":"+l)},dateToString:function(i,n){var o="",a=(i.split("T")[0].split("-"),moment(i.split("T")[0])),r={};(n=n||{}).weekday;return o=n.weekday?t[a.day()]+", "+e[a.month()]+" "+a.date()+", "+a.year():n.abbreviated?a.month()+1+"/"+a.date()+"/"+a.year():e[a.month()]+" "+a.date()+", "+a.year(),n.includeHours&&(n.noSeconds&&(r.shortened=!0),o+=" "+s.convertToHours(i,r)),o},convertToHours:function(e,t){t=t||{};var i=e.split("T")[1].split(":"),n=i[0],s=i[1],o=i[2].split(".")[0],a="";return a=n<12?"AM":"PM","00"===n?n="12":n>12&&(n-=12),"0"==n.toString().charAt(0)&&(n=n.substr(1)),(t.shortened?n+":"+s:n+":"+s+":"+o)+" "+a},addSeconds:function(e,t){if(void 0===t||null===t)return t;var i=moment(t.valueOf()+1e3*e);return s.convertToHours("T"+i.hours()+":"+addZero(i.minutes())+":"+addZero(i.seconds()))},timestampToSeconds:function(e){var t=e.split(/[:.]/);return 3600*parseInt(t[0])+60*parseInt(t[1])+parseInt(t[2])+parseInt(t[3])/1e3}};var s=floorcast.utils.timeUtils;function addZero(e){return e<10&&(e="0"+e),e}}()},function(e,t,i){"use strict";!function(){var e=floorcast.classes.ui,t=e.DataTable,i=e.SearchFilter,n=e.DropdownFilter,s=e.DropdownButton,o=e.TableInfo,a=e.Spinner,r=e.Miscellaneous.LastUpdated,l=floorcast.utils,c=l.miscUtils.each,d=(l.miscUtils.eachObj,l.miscUtils.escapeRegExp,l.miscUtils.reapplyStripes),u=l.timeUtils.convertToHours,f=l.miscUtils.createCongressLink;floorcast.views.activitiesView=function(){var e=null,l=null,p=null,v=null,h=null,m=null,g=null,b=new a,w=0,y=[0,1],D="",T={container:"#activity-content",tab:"activity",footer:".view-footer"},C=function(e,t){var i=t&&t.alert?" class='alert' ":" ",n=e.legisNum?" ":" no-bill",s=!(!t||!t.update),o="<td class='floor-time' style='white-space: nowrap' data-actionTime='"+e.actionTime+"'>"+u(e.actionTime)+"</a></td><td class='floor-bill"+n+"' style='white-space: nowrap'>"+f(e.legisNum,w)+"</a></td><td>"+e.description+"</td>",a="<tr"+i+"data-uniqueId='"+e.uniqueId+"'>"+o+"</tr>";return s?o:a};return{init:function(a,u){var f="",b="",S="",k=[],L=[];u=u||{};w=a.congressNum||0,a.activities.length?(k=a.activities,L=a.bills.map(function(e){return e.legisNum}),e=new t("activity-table",["Time","Bill","Activity"],"striped-rows"),m=new o("activity-table-info","House Floor Activity"),p=new i("activity-filter","Examples: 'h.r. 123', 'amendment', 'convened'"),v=new n("activity-dropdown"),h=new s("activity-download"),g=new r("activity"),c(k,function(e){f+=C(e)}),b="<div class='view-container'><div class='table-wrapper'><div class='table-menu'><div class='table-menu__util-container'>"+h.template()+v.template()+"</div>"+p.template()+"</div><div class='table-container'>"+e.template(f)+"</div></div></div><div class='view-footer'>"+g.template()+"</div>",$(T.container).html(b),$("#"+h.id).addClass("desktop"),v.addFilter("All bills"),v.setButton("All bills","<i class='fa fa-filter' aria-hidden='true'></i>"),h.setButton("Download","<i class='fa fa-download' aria-hidden='true'></i>"),h.addOptionDivider("XML Downloads"),h.addOption("<a href='http://clerk.house.gov/floorsummary/floor-download.aspx' target='_blank'>Download bulk</a>"),v.bind(),h.bind(),p.bind(),D=$("#"+v.id+" .dropdown-menu").children().first().text(),S="#"+e.id,(l=$(S)).tablesorter({headers:{0:{sorter:"actionTime"}},sortList:[y]}).bind("sortEnd filterEnd",function(e,t){d(S,"row")}),void 0!==L&&(v.addFilters(L),v.sort("desc",!0))):(b=u.startsAt?"<div class='view-container'><div class='no-data info-msg'>Next session starts at "+u.startsAt+"</div></div>":"<div class='view-container'><div class='no-data warning-msg'>No activities available</div></div>",$(T.container).html(b))},getId:function(){return T.container.replace(/^#/,"")},getDropdownFilter:function(){return v},getDownloadButton:function(){return h},getSearchFilter:function(){return p},getTable:function(){return e},getTableInfo:function(){return m},getSpinner:function(){return b},getLastUpdated:function(){return g},addRow:function(e,t){var i="";t=t||{};c(e,function(e){i+=C(e,t)}),l.append(i).trigger("update").trigger("sorton",[l.get(0).config.sortList])},removeRow:function(e){l.find("[data-uniqueId='"+e.uniqueId+"']").remove().trigger("update")},updateRow:function(e){l.find("[data-uniqueId='"+e.uniqueId+"']").addClass("alert").html(C(e,{update:!0})).trigger("update").trigger("sorton",[l.get(0).config.sortList])},filterTable:function(){var t=l.find("tbody tr");t.hide(),t.filter(function(e,t){return v.currentValue===D&&$(this).is(":containsIgnoreCase('"+p.currentValue+"')")?($(this).removeClass("filtered"),!0):$(this).is(":containsIgnoreCase('"+v.currentValue+"'):containsIgnoreCase('"+p.currentValue+"')")?($(this).removeClass("filtered"),!0):($(this).addClass("filtered"),!1)}).show(),d("#"+e.id,"row")},updateTabCount:function(e){var t="."+T.tab+"-tab-count";$(t).html(e)},addUpdateBadge:function(){var e=$("#"+T.tab);e.hasClass("is-active")||e.addClass("has-update")},hideFooter:function(){$(T.container).find($(T.footer)).hide()},clear:function(){$(T.container).empty(),e=null,p=null,v=null,h=null,m=null}}}()}()},function(e,t,i){"use strict";!function(){var e=floorcast.classes.ui,t=e.DataTable,i=e.SearchFilter,n=e.TableInfo,s=e.Spinner,o=e.DropdownFilter,a=e.Miscellaneous.LastUpdated,r=floorcast.utils,l=r.miscUtils.sanitize,c=r.miscUtils.each,d=r.miscUtils.log,u=r.miscUtils.reapplyStripes,f=r.miscUtils.createCongressLink,p=r.timeUtils.dateToString;floorcast.views.billsView=function(){var e=null,r=null,v=null,h=null,m=null,g=null,b=new s,w=[0,0],y="",D={container:"#bill-content",tab:"bill",footer:".view-footer"},T=function(e,t){var i,n,s="",o=e.referrals?e.referrals:"",a="",r="",d="",u=!(!t||!t.update),v=t&&t.alert?" class = 'alert' ":"";if(o.length&&(c(o,function(e){a+="<div>"+p(e.date,{weekday:!1})+" - "+e.committee+"</div>"}),r+="<div class='row'><div class='cell field-title'>House Referrals</div><div class='cell'>"+a+"</div></div>"),e.title){var h=e.title;if(h.length>140)d=h.substr(0,140)+"<span class='moreellipses'>...&nbsp;</span><span class='morecontent' style='display:none'>"+h.substr(140,h.length-140)+"&nbsp;&nbsp;</span>";else d=h;s="<td colspan='100%'><div class='table'><div class='row'><div class='cell field-title'>Official Title</div><div class='cell'>"+e.officialTitle+"</div></div><div class='row'><div class='cell field-title'>Sponsor</div><div class='cell'>"+e.sponsor+"</div></div><div class='row'><div class='cell field-title'>Introduced</div><div class='cell'>"+p(e.introduced,{weekday:!1})+"</div></div><div class='row'><div class='cell field-title'>Latest Action</div><div class='cell'>"+p(e.lastActionDate,{weekday:!1})+" - "+e.lastAction+"</div></div>"+r+"</div></td>"}else s="<td colspan='100%'><div class='table'><div class='row'><div class='cell field-title no-data'>No data available</div></div></div></td>";return n="<tr class='clickableRow'><td class='bill-legisnum'>"+f(e.legisNum,e.congressNum)+"</td><td><i class='fa fa-plus expand-btn' style='float: right'></i>"+(d||"<i>Title unavailable</i>")+"</td></tr><tr class='hiddenRow tablesorter-childRow'>"+s+"</td>",i="<tbody"+v+" data-legisNum='"+l(e.legisNum,{removeWhitespace:!0})+"'>"+n+"</tbody>",u?n:i},C=function(e){r.find("[data-legisNum='"+l(e.legisNum,{removeWhitespace:!0})+"']").length||(r.append(T(e,{alert:!0})).trigger("update").trigger("sorton",[r.get(0).config.sortList]),S(e))},S=function(e){var t=[],i=null;e instanceof Array||(e=[e]),c(e,function(e){(i=e.legisNum.replace(/[0-9]+/,"").trim()||null)&&-1===t.indexOf(i)&&t.push(i)}),h.addFilters(t),h.sort("asc",!0)};return{init:function(s){d("INITIALIZING BILLS");var l="",f="",p="";s.error?(f="<div class='view-container'><div class='no-data warning-msg'>No bills available</div></div>",$(D.container).html(f)):(c(s.data,function(e){l+=T(e)}),e=new t("bill-table",["Bill Number","Title"],"striped-body","expandable"),m=new n("bill-table-info","Bills"),v=new i("bill-filter","Examples: 'h.r. 123', 'amendment', 'agriculture'"),g=new a("bill"),f="<div class='view-container'><div class='table-wrapper'><div class='table-menu'><div class='table-menu__util-container'>"+(h=new o("bill-dropdown")).template()+"</div>"+v.template()+"</div><div class='table-container'>"+e.template(l)+"</div></div></div><div class='view-footer'>"+g.template()+"<div class='data-attribution'><a href='https://congress.gov/about/data'>Bill Status data</a> is from <a href='https://congress.gov' class='congress-logo-link' aria-label='Congress.gov link'></a></div></div>",$(D.container).html(f),h.addFilter("All types"),h.setButton("All types","<i class='fa fa-filter' aria-hidden='true'></i>"),h.bind(),v.bind(),y=$("#"+h.id+" .dropdown-menu").children().first().text(),p="#"+e.id,(r=$(p)).tablesorter({sortList:[w],widgets:["sortTbody"],widgetOptions:{sortTbody_primaryRow:".clickableRow",sortTbody_sortRows:!1}}).bind("sortEnd filterEnd",function(e,t){u(p,"body")}),S(s.data))},getId:function(){return D.container.replace(/^#/,"")},updateTabCount:function(e){var t="."+D.tab+"-tab-count";$(t).html(e)},addUpdateBadge:function(){var e=$("#"+D.tab);e.hasClass("is-active")||e.addClass("has-update")},addRow:C,updateRow:function(e){var t=r.find("[data-legisNum='"+l(e.legisNum,{removeWhitespace:!0})+"']");t.length?t.html(T(e,{update:!0})).trigger("update").trigger("sorton",[r.get(0).config.sortList]):(d("Row does not exist: Creating new row for bill "+e.legisNum),C(e))},getSearchFilter:function(){return v},getDropdownFilter:function(){return h},getTable:function(){return e},filterTable:function(){var t=r.find("tbody");t.hide(),t.filter(function(e,t){return h.currentValue===y&&$(this).is(":containsIgnoreCase('"+v.currentValue+"')")?($(this).removeClass("filtered"),!0):$(this).find("td").first().is(":containsIgnoreCase('"+h.currentValue+"')")&&$(this).is(":containsIgnoreCase('"+v.currentValue+"')")?($(this).removeClass("filtered"),!0):($(this).addClass("filtered"),!1)}).show(),u("#"+e.id,"body")},getTableInfo:function(){return m},getSpinner:function(){return b},getLastUpdated:function(){return g},clear:function(){$(D.container).empty(),e=null,v=null,h=null,m=null}}}()}()},function(e,t,i){"use strict";!function(){var e=floorcast.classes.ui.Spinner,t=floorcast.utils;floorcast.views.billsThisWeekView=function(){var i=new e,n={tab:"btw",container:"#btw-content"},s=function(e){return"<h2 class='m--none btw-color--primary fz-20px@mobile'>Text of Bills for the Week of "+t.timeUtils.dateToString(e.name)+"</h2><div class='fz-14px bb-light--double'><span class='block'>First published: "+t.timeUtils.dateToString(e.publishedOrig,{noSeconds:!0,includeHours:!0})+"</span><span class='block'>Last updated: "+t.timeUtils.dateToString(e.updated,{noSeconds:!0,includeHours:!0})+"</span></div>"},o=function(e){var t="";return e.forEach(function(e){t+="<div><h3 class='btw-color--secondary'>"+e.name+"</h3><div class='table table--no-auto-cell fz-14px'>"+a(e.documents)+"</div></div>"}),t},a=function(e){var i="",n="",s="",o=null;return e&&e.forEach(function(e){s=function(){var i="cell",n=["<div class='block btw-success'>Added "+t.timeUtils.dateToString(e.published,{noSeconds:!0,includeHours:!0})+"</div>"],s=e.updates?e.updates.length:0;return e.updates&&"string"==typeof(o=e.updates[s-1]).published&&o.published.length>0&&n.push(["<div class='block btw-warn'>Updated at "+t.timeUtils.dateToString(o.published,{noSeconds:!0,includeHours:!0})+(o.notes?"<div>"+o.notes+"</div>":"")+"</div>"]),e.legisNum||(i+=" pl",e.description="::"+e.description),"<div class='"+i+"'><div>"+e.description+"</div><div>"+n.join("")+"</div></div>"}(),n=function(){var t=null;return e.files.map(function(e,i){return t="u-block",i>0&&(t+=" ml-sm"),"<span class='"+t+"'>[<a class='btw-color--primary' href="+e.identifier+">"+e.format+"</a>]</span>"})}(),i+="<div class='row'><div class='cell color-black semibold min-width--50px'>"+e.legisNum+"</div>"+s+"<div class='cell "+(e.legisNum?"":"pl")+"'>"+(n?n.join(""):"")+"</div></div>"}),i};return{init:function(e){var t="",i=e.data;e.error?t="<div class='view-container'><div class='no-data warning-msg'>No floor schedule available. See <a href='https://docs.house.gov/floor/'>docs.house.gov</a> for full schedule information.</div></div>":(e=e,t="<div class='view-container'><div class='p'><div>"+s(i)+"</div>"+o(i.categories)+"</div></div><div class='view-footer bt-light'><div class='data-attribution'>Bills this Week data is provided by <a href='https://docs.house.gov/floor/'>docs.house.gov</a></div></div>");$(n.container).html(t)},getId:function(){return n.container.replace(/^#/,"")},clear:function(){$(n.container).empty()},getSpinner:function(){return i},updateTabCount:function(e){var t="."+n.tab+"-tab-count";$(t).html(e)}}}()}()},function(e,t,i){"use strict";!function(){var e=floorcast.classes.ui,t=e.DataTable,i=e.SearchFilter,n=e.DropdownFilter,s=e.TableInfo,o=e.Spinner,a=floorcast.utils,r=a.miscUtils.each,l=a.miscUtils.reapplyStripes,c=a.timeUtils.convertToHours;floorcast.views.committeeMeetingsView=function(){var e=null,a=null,d=null,u=null,f=null,p=new o,v="",h={container:"#committee-meetings-content",tab:"committee-meetings"},m=function(e){var t,i;return(t=e.organizer.memberOf?e.organizer.memberOf.name:"")&&(e.organizer.name=" ("+e.organizer.name+")"),i="c"===e.status.toLowerCase()?"<span class='error'>(Cancelled)</span> ":"","<tr><td style='white-space: nowrap' data-actionTime='"+e.startDate+"'><i class='fa fa-clock-o' aria-hidden='true' style='margin-right: .5em'></i>"+c(e.startDate,{shortened:!0})+"</td><td>"+e.location.name+"</td><td><div class='row'><div class='cell'><a href='"+e.url+"' class='committee-meeting__title'>"+i+e.title+"</a></div></div><div class='row'><div class='cell'>"+t+e.organizer.name+"</div></div></td></tr>"};return{init:function(o){var c="",p="",g="",b="",w="",y=[];o.error?(p="<div class='view-container'><div class='no-data warning-msg'>No meetings available. See <a href='http://docs.house.gov/Committee'>docs.house.gov</a> for full meetings calendar.</div></div>",$(h.container).html(p)):(r(o.data,function(e){c+=m(e),w=e.organizer,(b=w.memberOf||null)||-1!==y.indexOf(w.name)?b&&-1===y.indexOf(b.name)&&y.push(b.name):y.push(w.name)}),a=new t("meeting-table",["Time","Location","Title"],"striped-rows"),u=new s("meeiting-table-info","Committee Meetings"),d=new i("meeting-filter","Examples: 'agriculture', '10:00'"),p="<div class='view-container'><div class='table-wrapper'><div class='table-menu'><div class='table-menu__util-container'>"+(f=new n("meeting-dropdown")).template()+"</div>"+d.template()+"</div><div class='table-container'>"+a.template(c)+"</div></div></div><div class='view-footer'><div class='data-attribution'>Meeting data is provided by <a href='http://docs.house.gov/Committee'>docs.house.gov</a></div></div>",$(h.container).html(p),f.addFilter("All committees"),f.setButton("All committees","<i class='fa fa-filter' aria-hidden='true'></i>"),f.bind(),d.bind(),v=$("#"+f.id+" .dropdown-menu").children().first().text(),g="#"+a.id,e=$(g),$(g).tablesorter({headers:{0:{sorter:"actionTime"},2:{sorter:"sortByParentCommittee"}},sortList:[[0,0],[2,0]],sortAppend:[[2,0]]}).bind("sortEnd filterEnd",function(e,t){l(g,"row")}),void 0!==y&&(f.addFilters(y),f.sort("asc",!0)))},getId:function(){return h.container.replace(/^#/,"")},updateTabCount:function(e){var t="."+h.tab+"-tab-count";$(t).html(e)},getSearchFilter:function(){return d},getDropdownFilter:function(){return f},getTable:function(){return a},getTableInfo:function(){return u},filterTable:function(){var t=e.find("tbody tr");t.hide(),t.filter(function(e,t){return f.currentValue===v&&$(this).is(":containsIgnoreCase('"+d.currentValue+"')")?($(this).removeClass("filtered"),!0):$(this).is(":containsIgnoreCase('"+f.currentValue+"'):containsIgnoreCase('"+d.currentValue+"')")?($(this).removeClass("filtered"),!0):($(this).addClass("filtered"),!1)}).show(),l("#"+a.id,"row")},getSpinner:function(){return p},clear:function(){$(h.container).empty()}}}()}()},function(e,t,i){"use strict";!function(){var e=floorcast.classes.ui.Spinner,t=floorcast.utils,i=t.miscUtils.each,n=t.timeUtils.dateToString,s=t.miscUtils.createCongressLink;floorcast.views.dailyScheduleView=function(){var t=new e,o=0,a={container:"#daily-content"},r=function(e,t,n){var a,r="",l="",c="",d="",u="";if(e.committees&&e.committees.length){var f=0;i(e.committees,function(e){c=f>0&&f<e.committees.length-1?", ":"",l+=e.name+" Committee"+c,f++})}return e.sponsor&&(r=e.sponsor.type+". "+e.sponsor.firstName+" "+e.sponsor.lastName),a=l&&r?r+" / "+l:r+l,n&&(d+=n+") "),t&&(u+="class="+t),"<p "+u+"><span class='schedule__item link'>"+d+s(e.legisNum,o)+"</span> - <span class='schedule__item-title'>"+e.legisTitle+" <i>(Sponsored by "+a+")</i></span></p>\n"};return{init:function(e){var t="";if(e.error)t="<div class='view-container'><div class='no-data warning-msg'>No schedule available. See <a href='http://www.majorityleader.gov/floor/#daily'>majorityleader.gov</a> for full schedule information.</div></div>";else{var s="",l="",c="",d="",u=1,f=1;e=e.data[0],o=e.congressNum,e.floorActivity&&i(e.floorActivity,function(e){"Suspension"===e.class?(l||(l+="<p><span class='schedule__item'>Legislation Considered Under Suspension of the Rules:</b></p>\n"),l+=r(e,"schedule__list",u),u++):e.class.indexOf("Rule")>-1?c+=r(e):"Other"===e.class&&(s+="<p><span class='schedule__item'>"+e.category+"</b></p>\n")}),e.postponedConsideration&&i(e.postponedConsideration,function(e){"Suspension"===e.class&&(d||(d+="<p><span class='schedule__item'>Postponed Suspension Vote:</b></p>\n"),d+=r(e,"schedule__list",f),f++)}),s+=c+"\n"+l+"\n"+d,t="<div class='view-container'><div class='limited-container'><div style='text-align: center'><h3 class='schedule__date'>"+n(e.date,{weekday:!0})+"</h3>\n<p class='schedule__heading'>"+e.heading+"</p>\n</div>"+s+"</div></div><div class='view-footer'><div class='data-attribution'>Daily schedule is provided by <a href='http://www.majorityleader.gov/floor/#daily'>majorityleader.gov</a></div></div>"}$(a.container).html(t)},getId:function(){return a.container.replace(/^#/,"")},clear:function(){$(a.container).empty()},getSpinner:function(){return t}}}()}()},function(e,t,i){"use strict";!function(){var e=floorcast.classes.ui.BillActionView;floorcast.views.legislativeActionsView=function(){var t=new e("introduced-bill","#introduced-content","Introduced Measures"),i=new e("reported-bill","#reported-content","Reported Measures"),n=new e("passed-bill","#passed-content","Passed Measures"),s=new e("presented-bill","#presented-content","Presented Measures"),o=new e("enacted-bill","#enacted-content","Enacted Measures");return{getIntroducedView:function(){return t},getReportedView:function(){return i},getPassedView:function(){return n},getPresentedView:function(){return s},getEnactedView:function(){return o},getAllViews:function(){return[t,i,n,s,o]}}}()}()},function(e,t,i){"use strict";!function(){var e=floorcast.classes.ui,t=e.DataTable,i=e.SearchFilter,n=e.DropdownFilter,s=e.TableInfo,o=e.Spinner,a=e.Miscellaneous.LastUpdated,r=floorcast.utils.miscUtils,l=r.reapplyStripes,c=r.toTitleCase,d=r.each;floorcast.views.transcriptView=function(){var e=null,r=null,u=null,f=null,p=null,v=null,h="",m=new o,g={container:"#session-transcript-content",captionLimit:300,footer:".view-footer",tableId:"transcript-table"},b=function(e,t){var i,n,s=e.text,o=t&&t.alert,a=t&&t.update;return s=s.length>g.captionLimit?"<div class='transcript-text cursor-pointer :hover-underline inline'>"+s.substr(0,g.captionLimit)+"<span class='remaining-content text-expander__target' style='display:none'>"+s.substr(g.captionLimit,s.length-g.captionLimit)+"</span></div><a href='#' class='text-expander trimmed'>[<span class='text-expander__display'>...</span>]</a>":"<div class='transcript-text cursor-pointer :hover-underline'>"+e.text+"</div>",i="<td>"+c(e.speaker)+"</td><td style='white-space: nowrap' data-actionTime='"+e.videoTime+"'><span>"+e.time+"</span><div class='text-center'></div></td><td class='text'><article class='text_content'>"+s+"</article></td>",n="<tr "+(o?"class='alert' ":"")+"data-uniqueId='"+e.id+"'>"+i+"</tr>",a?i:n};return{init:function(o){var c="",m="",w="",y=[],D=[];o.error?(m="<div class='view-container'><div class='no-data warning-msg'>No caption transcript available</div></div>",$(g.container).html(m)):(y=o.data.captionData,D=o.data.speakers,d(y,function(e){c+=b(e)}),r=new t(g.tableId,["Speaker","Time","Text"],"striped-rows"),p=new s("transcript-table-info","Caption Text"),u=new i("transcript-filter","Search captions"),f=new n("transcript-dropdown"),v=new a("transcript"),m="<div class='view-container'><div class='table-wrapper'><div class='table-menu'><div class='table-menu__util-container'>"+f.template()+"</div>"+u.template()+"</div><div class='table-container'>"+r.template(c)+"</div></div></div><div class='view-footer'>"+v.template()+"</div>",$(g.container).html(m),f.addFilter("All speakers"),f.setButton("All speakers","<i class='fa fa-filter' aria-hidden='true'></i>"),u.bind(),f.bind(),h=$("#"+f.id+" .dropdown-menu").children().first().text(),w="#"+r.id,e=$(w),$(w).tablesorter({headers:{1:{sorter:"actionTime"}},sortList:[[1,0]]}).bind("sortEnd filterEnd",function(e,t){l(w,"row")}),void 0!==D&&(f.addFilters(D),f.sort("asc",!0)))},getId:function(){return g.container.replace(/^#/,"")},getDropdownFilter:function(){return f},getSearchFilter:function(){return u},getTable:function(){return r},getTableInfo:function(){return p},getTableId:function(){return g.tableId},addRow:function(t,i){var n="";d(t,function(e){n+=b(e,i)}),e.append(n).trigger("update").trigger("sorton",[e.get(0).config.sortList])},updateRow:function(t){e.find("[data-uniqueId='"+t.id+"']").addClass("alert").html(b(t,{update:!0})).trigger("update").trigger("sorton",[e.get(0).config.sortList])},filterTable:function(){var t=e.find("tbody tr");t.hide(),t.filter(function(e,t){return f.currentValue===h&&$(this).is(":containsIgnoreCase('"+u.currentValue+"')")?($(this).removeClass("filtered"),!0):$(this).find("td").first().is(":containsIgnoreCase('"+f.currentValue+"')")&&$(this).is(":containsIgnoreCase('"+u.currentValue+"')")?($(this).removeClass("filtered"),!0):($(this).addClass("filtered"),!1)}).show(),l("#"+r.id,"row")},getSpinner:function(){return m},getLastUpdated:function(){return v},hideFooter:function(){$(g.container).find($(g.footer)).hide()},clear:function(){$(g.container).empty()}}}()}()},function(e,t,i){"use strict";!function(){var e=floorcast.classes.event.Mediator,t=floorcast.classes.ui.Spinner,i=floorcast.classes.ui.Video,n=floorcast.utils.miscUtils,s=(floorcast.config,n.log);floorcast.views.videoView=function(){var n=new t,o=new e,a=null,r={container:"#video-container",mediaPlayerId:"media-player",noVideo:".no-video-msg",idleOverlay:".video-idle-overlay",reloadVideo:".video-reload-button",resumeButton:".video-idle__button",idleTimer:".video-idle__timer",videoCountdown:".video-countdown-count"};a=new i(r.mediaPlayerId),n.options.color="#fff";var l=function(){a.destroy()},c=function(){a.listenTo("error",function(){o.publish("onPlayerError",a.error)}),a.listenTo("pause",function(){o.publish("onPlayerPause")}),a.listenTo("play",function(){o.publish("onPlayerPlay")}),a.listenTo("sourceset",function(){o.publish("onPlayerSrcSet")}),a.listenTo("loadeddata",function(){o.publish("onPlayerDataLoaded")})},d=function(){return a?a.player:null};return{loadVideo:function(e){e&&e.url?(s("Loading video"),d()?a.load(e,c):a.initialize(r.container,e,c)):(s("Disposing video"),l())},showContainer:function(){$(r.container).show()},hideContainer:function(){$(r.container).hide()},showPlayer:function(){d()&&$("#"+r.mediaPlayerId).show()},hidePlayer:function(){d()&&$("#"+r.mediaPlayerId).hide()},showIdleOverlay:function(e){var t="<div class='video-idle-overlay'><div class='video-idle__msg'>Still there?<br />Click below to resume play, or this stream will stop in <span class='video-idle__timer'>"+(e||"")+"</span> seconds.</div><div class='video-idle__button'>Resume</div></div>";document.querySelector(".video-idle-overlay")||$(r.container).append(t)},showErrorMessage:function(e){var t="<div class='video-msg'><div>Unable to load video</div>"+(e?"<div class='video-error-msg'>"+e+"</div>":"")+"<div class='video-reload-button'>Reload</div></div>";$(r.container).html(t)},showVideoCountdown:function(){$(r.container).html("<div class='video-msg'><div class='video-countdown'>Next Session: <span class='video-countdown-count'></span></div></div>")},showVideoUnavailableMessage:function(){$(r.container).html("<div class='video-msg'>No session video available</div>")},setCountdownText:function(e){$(r.videoCountdown).text(e)},setIdleTimer:function(e){$(r.idleTimer).text(e)},removeIdleOverlay:function(){$(r.idleOverlay).remove()},getSpinner:function(){return n},getConfig:function(){return r},getEventManager:function(){return o},getPlayer:function(){return a},getPlayerInstance:d,destroyPlayer:l,getId:function(){return r.container.replace(/^#/,"")},clear:function(){d()&&a.destroy(),$(r.container).empty()}}}()}()},function(e,t,i){"use strict";!function(){var e=floorcast.classes.ui,t=e.DataTable,i=e.SearchFilter,n=e.TableInfo,s=e.Spinner,o=e.DropdownFilter,a=e.Miscellaneous.LastUpdated,r=floorcast.utils.miscUtils,l=r.each,c=r.log,d=r.createCongressLink,u=r.createVoteDetailsLink,f=r.reapplyStripes,p=r.formatBill,v=r.validateLegisNum,h={voiced:["Yeas:","Nays:"],recorded:["Ayes:","Noes:"]};floorcast.views.votesView=function(){var e=null,r=null,m=null,g=null,b=null,w=null,y=new s,D=[0,1],T="",C={container:"#vote-content",tab:"vote",footer:".view-footer"},S=function(t,i){var n,s,o="",a="",r="",c=i&&i.alert?"class = 'alert'":"",f=!(!i||!i.update),m=t.description?"Bill Title & Description: ":"Author: ",g=t.description?t.description:t.amendmentAuthor,b=t.description||t.amendmentAuthor?"":"style = 'display: none'",w="Failed"!==t.result?"Passed"===t.result?" passed":" in-progress":" failed";if(t.result){if(r=t.type.indexOf("RECORDED VOTE")>-1?"recorded":"voiced",t.candidateTotals){var y=t.candidateTotals;l(y,function(e){a+="<div class='row'><div class='cell'><span class='vote-total'>"+e.total+"</span><span class='field-title'>"+e.option+": </span></div>"})}else t.voteTotals&&(a="<div class='row'><div class='cell'><span class='vote-total'>"+t.voteTotals.yea+"</span><span class='field-title'>"+h[r][0]+"</span></div></div><div class='row'><div class='cell'><span class='vote-total'>"+t.voteTotals.nay+"</span><span class='field-title'>"+h[r][1]+"</span></div></div><div class='row'><div class='cell'><span class='vote-total'>"+t.voteTotals.present+"</span><span class='field-title'>Present:</span></div></div><div class='row'><div class='cell'><span class='vote-total'>"+t.voteTotals.notVoting+"</span><span class='field-title'>Not Voting:</span></div></div>");o="<td class='unpadded' colspan='100%'><div class='table'><div class='row'><div class='vote-detail-col'><div class='row pb mobile'><div class='cell'><span class='field-title'>Type:</span> "+t.type+"</div></div><div class='row pb'><div class='cell'><span class='field-title'>Question:</span> "+t.question+"</div></div><div class='row pb'"+b+"><div class='cell'><span class='field-title'>"+m+"</span> "+g+"</div></div></div><div class='vote-count-col'>"+a+"</div></div></div></td>"}else o="<td colspan='100%'><div class='table'><div class='row'><div class='cell field-title no-data'>No data available</div></div></div></td>";return s="<tr class='clickableRow'><td class='desktop' data-label='Roll'>"+u(t.rollCallNum,t.year)+"</td><td class='bill-legisnum' data-label=''>"+(v(t.legisNum)?d(p(t.legisNum),t.congressNum):"<a href=#>"+t.legisNum+"</a>")+"<span class='mobile'>| ("+u(t.rollCallNum,t.year)+")</span></td><td class='desktop' data-label='"+e.headers[2]+"'>"+(t.type||"")+"</td><td class='"+w+"'><i class='fa fa-plus expand-btn' style='float: right'></i>"+(t.result||"In progress")+"</td></tr><tr class='hiddenRow tablesorter-childRow'>"+o+"</tr>",n="<tbody "+c+" data-rollNum='"+t.rollCallNum+"'>"+s+"</tbody>",f?s:n},k=function(e){c(e),r.find("[data-rollNum='"+e.rollCallNum+"']").length||(r.append(S(e,{alert:!0})).trigger("update").trigger("sorton",[r.get(0).config.sortList]),L(e.legisNum))},L=function(e){var t=[];e instanceof Array||(e=[e]),l(e,function(e){e=p(e)||e,t.push(e)}),g.addFilters(t),g.sort("asc",!0)};return{init:function(s){var c="",d="",u="",p=[];s.error?(d="<div class='view-container'><div class='no-data warning-msg'>No votes available</div></div>",$(C.container).html(d)):(e=new t("vote-table",["Vote Number","Bill Number","Type","Results"],"striped-body","expandable"),b=new n("vote-table-info","Votes"),m=new i("vote-filter","Examples: 'h.r. 123', 'passed'"),w=new a("vote"),g=new o("vote-dropdown"),l(s.data,function(e){c+=S(e),-1===p.indexOf(e.legisNum)&&p.push(e.legisNum)}),d="<div class='view-container'><div class='table-wrapper'><div class='table-menu'><div class='table-menu__util-container'>"+g.template()+"</div>"+m.template()+"</div><div class='table-container'>"+e.template(c)+"</div></div></div><div class='view-footer'>"+w.template()+"</div>",$(C.container).html(d),g.addFilter("All votes"),g.setButton("All votes","<i class='fa fa-filter' aria-hidden='true'></i>"),g.bind(),m.bind(),T=$("#"+g.id+" .dropdown-menu").children().first().text(),u="#"+e.id,(r=$(u)).tablesorter({sortList:[D],widgets:["sortTbody"],widgetOptions:{filter_columnFilters:!1,sortTbody_primaryRow:".clickableRow",sortTbody_sortRows:!1}}).bind("sortEnd filterEnd",function(e,t){f(u,"body")}),L(p))},getId:function(){return C.container.replace(/^#/,"")},updateTabCount:function(e){var t="."+C.tab+"-tab-count";$(t).html(e)},addUpdateBadge:function(){var e=$("#"+C.tab);e.hasClass("is-active")||e.addClass("has-update")},addRow:k,updateRow:function(e){var t=r.find("[data-rollNum='"+e.rollCallNum+"']");t.length?(t.html(S(e,{update:!0})).trigger("update").trigger("sorton",[r.get(0).config.sortList]),L(e.legisNum)):(c("Row does not exist: Creating row for Roll No. "+e.rollCallNum),k(e))},getSearchFilter:function(){return m},getDropdownFilter:function(){return g},getTable:function(){return e},filterTable:function(){var t=r.find("tbody");t.hide(),t.filter(function(e,t){return g.currentValue===T&&$(this).is(":containsIgnoreCase('"+m.currentValue+"')")?($(this).removeClass("filtered"),!0):$(this).find("td:eq(1)").is(":containsIgnoreCase('"+g.currentValue+"')")&&$(this).is(":containsIgnoreCase('"+m.currentValue+"')")?($(this).removeClass("filtered"),!0):($(this).addClass("filtered"),!1)}).show(),f("#"+e.id,"body")},getTableInfo:function(){return b},getSpinner:function(){return y},getLastUpdated:function(){return w},hideFooter:function(){$(C.container).find($(C.footer)).hide()},clear:function(){$(C.container).empty(),e=null,m=null,g=null,b=null}}}()}()},function(e,t,i){"use strict";({setBindings:function(){var e=this;$(document).ready(function(){e.setDomEvents()})},setDomEvents:function(){$(window).resize(function(){var e=$(window).width(),t=$(".parent-tabs").find(".is-active").attr("id");e>1200?(!/^(links|help|watch|more)$/i.test(t)&&t||$("#floor").click(),showFlex(".l-flex-col.left"),showFlex(".sidebar"),unadjustVideoPanel(),$(".left").css({width:"33%"}),$(".video-container:not(.embed)").css({height:"40vh"})):($(".left").css({width:"100%"}),"watch"!==t?$(".l-flex-col.left").hide():(showFlex(".l-flex-col.left"),showBlock(".sidebar"),adjustVideoPanel()),e>800&&"more"===t&&$("#floor").click()),e>800?$("#meeting-table").find("tr.visibleRow").css({display:"table-row"}):$("#meeting-table").find("tr.visibleRow").css({display:"flex"})}),$("body").on("animationend MSanimated",".alert",function(){$(this).removeClass("alert")});function showFlex(e){"flex"!==(e=$(e)).css("display")&&e.css({display:"flex"})}function showBlock(e){"block"!==(e=$(e)).css("display")&&e.css({display:"block"})}function adjustVideoPanel(){$(".right").css({display:"block",flex:"0 1 auto"})}function unadjustVideoPanel(){$(".right").css({display:"flex",flex:"1 1 0px"})}$("body").on("click",".text-expander",function(){return $(this).hasClass("expanded")?($(this).removeClass("expanded"),$(this).addClass("trimmed"),$(this).find(".text-expander__display").html("...")):($(this).removeClass("trimmed"),$(this).addClass("expanded"),$(this).find(".text-expander__display").html("Show Less")),$(this).parent().find(".text-expander__target").toggle(),!1}),$("body").on("click",".expand-btn",function(){$(this).parent().parent().find(".morecontent").toggle(),$(this).parent().parent().find(".moreellipses").toggle()}),$("body").on("click","a",function(e){var t=$(this).attr("href");t&&"#"!==t.charAt(0)&&(e.preventDefault(),window.open(t,"_blank"))}),$("#app-modal .modal__close").on("click",function(){$("#app-modal").addClass("modal--closed")}),$(".l-flex-col.left").resizableUI({handleSelector:".splitter-vertical",resizeHeight:!1}),$(".video-container:not(.embed)").resizableUI({handleSelector:".splitter-horizontal",resizeWidth:!1,resizeHeightFrom:"bottom"}),$(".accordion-list__trigger").bind("click",function(e){$(this).parent().find(".accordion-list__submenu").slideToggle("fast"),$(this).parent().toggleClass("is-expanded"),e.preventDefault()}),$(".accordion-tabs-minimal, #skip-to-content").on("click",".tab-link, .skip-link",function(e){if($(this).hasClass("is-active"))e.preventDefault();else{e.preventDefault();var t=$(this).attr("id")||$(this).attr("data-target"),i="#"+t,n=null,s=null,o=null,a=null;for($(window).width()<1200&&("watch"!==t?(showFlex(".sidebar"),$(".l-flex-col.left").hide(),unadjustVideoPanel()):(showBlock(".sidebar"),showFlex(".l-flex-col.left"),adjustVideoPanel()));t;)o=(s=$(i).closest(".accordion-tabs-container").eq(0)).find(".accordion-tabs-minimal").eq(0),a=s.find(".tab-content-container").eq(0),o.find(".is-active").removeClass("is-active"),$(i).addClass("is-active"),$(i).hasClass("has-update")&&$(i).removeClass("has-update"),$(a).children(".is-open").removeClass("is-open"),$(i+"-content").addClass("is-open"),i="#"+(t=(n=$(i).parents(".tab-content").attr("id"))?n.replace(/-content/i,""):"")}}),$(".content-list__item.internal").on("click",function(e){e.preventDefault();var t=$(this).attr("data-link"),i=$(this).closest(".accordion-tabs-container").eq(0),n=i.find(".accordion-tabs-minimal").eq(0),s=i.find(".tab-content-container").eq(0);n.find(".is-active").removeClass("is-active"),$(s).children(".is-open").removeClass("is-open"),$(t).addClass("is-open")}),$("body").on("click","table .expand-btn",function(e){$(e.target).closest("tr").next().toggleClass("hiddenRow"),$(this).toggleClass("fa-plus fa-minus")}),localStorage.getItem("houseLiveSurveyTaken")?$(".banner, .mobile-survey-link").addClass("survey-taken"):$(".banner, .mobile-survey-link").addClass("survey-not-taken"),$(".banner__close").on("click",function(){$(".banner, .mobile-survey-link").removeClass("survey-not-taken").addClass("survey-taken")}),$(".survey-link").on("click",function(){localStorage.setItem("houseLiveSurveyTaken",!0),$(".banner, .mobile-survey-link").removeClass("survey-not-taken").addClass("survey-taken")})}}).setBindings()},function(e,t,i){"use strict";({setExtensions:function(){this.setJQueryExtensions(),this.setTablesorterExtensions()},setJQueryExtensions:function(){$.expr[":"].containsIgnoreCase=function(e,t,i){return jQuery(e).text().toUpperCase().indexOf(i[3].toUpperCase())>=0}},setTablesorterExtensions:function(){$.tablesorter.addParser({id:"sortByBillType",is:function(e,t,i,n){return!1},format:function(e,t,i,n){$(i);var s=e.replace(/[^0-9]/g,""),o=5-s.length;return o&&(s=Array(o+1).join("0")+s),(e=e.replace(/[^a-zA-Z]/g,"")).toLowerCase().replace(/^hr\b/,0).replace(/^hjres\b/,1).replace(/^hconres\b/,2).replace(/^hres\b/,3).replace(/^s\b/,4).replace(/^sjres\b/,5).replace(/^sconres\b/,6).replace(/^sres\b/,7)+s},parsed:!1,type:"text"}),$.tablesorter.addParser({id:"sortByParentCommittee",is:function(e,t,i,n){return!1},format:function(e,t,i,n){return $(i.lastChild.lastChild).text().replace(/[^\w\s]/gi,"")||e},parsed:!1,type:"text"}),$.tablesorter.addParser({id:"actionTime",is:function(e,t,i,n){return!1},format:function(e,t,i,n){return $(i).attr("data-actionTime")||e},parsed:!1,type:"text"})}}).setExtensions()},function(e,t,i){"use strict";!function(){var e=null,t=0;floorcast.fun={getWonky:function(i){clearInterval(e),i=i&&i>=200||1e3,e=setInterval(function(){t=360*Math.random(),$(".clock__minute-hand").css({transform:"rotateZ("+t+"deg)"})},i)},stopWonky:function(){clearInterval(e)}}}()},function(e,t){!function(){window.startIntro=function(){var e=introJs.introJs();e.setOptions({showProgress:!1,showStepNumbers:!1,exitOnOverlayClick:!0,tooltipClass:"custom-tooltip",highlightClass:"custom-highlight",steps:[{element:document.querySelector("l-dash"),intro:"Welcome to HouseLive 2.0 (FloorCast) Guided Tour. Begin the tour?",position:"auto"},{element:document.querySelector(".calendar-utils"),intro:"<b>Legislative Session Day:</b> Displays the selected Legislative Day and provides links to go to the next or previous session.",position:"bottom"},{element:document.querySelector(".option.calendar-trigger"),intro:"<b>Calendar</b>: Menu for navigating to a specific day. Legislative days are shown in gray.",position:"left"},{element:document.querySelector(".video-container"),intro:"<b>Video Streaming:</b> Displays the video for the day, if available.",position:"right"},{element:document.querySelector("#floor"),intro:"<b>Floor Summary Tab:</b> House Floor Activities for the Legislative Day.",position:"bottom"},{element:document.querySelector("#transcript"),intro:"<b>Caption Text Tab:</b> Displays (Unedited) Closed Captions for the Legislative Day",position:"bottom"},{element:document.querySelector("#schedule"),intro:"<b>Schedule Tab:</b> Displays the Daily schedules, as well as committee meetings",position:"bottom"},{element:document.querySelector("#bill-activity"),intro:"<b>Legislative Actions Tab:</b> Displays the actions taken on Legislation and processed by congress.gov in the past week.",position:"bottom"}]}),e.start()}}()},function(e,t,i){"use strict";({utils:floorcast.utils,eventBus:floorcast.classes.event.NotificationCenter,socketController:floorcast.controllers.socketController,init:function(){var e=this.utils.miscUtils.getParam("date"),t=this.utils.timeUtils.validateDate(e)?e:null;if(e&&!t)return window.location.href="/";this.socketController.connect()}}).init()},,,,,,,,,,,,,,function(e,t,i){e.exports=i.p+"assets/person.0de3c088feb9585d8265d3a2d34dd9d0.png"},function(e,t,i){e.exports=i.p+"assets/video-poster.89f489d357c0f474fcbc08035d2c52d3.png"},,function(e,t){var i,n,s=e.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(i===setTimeout)return setTimeout(e,0);if((i===defaultSetTimout||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){i=defaultSetTimout}try{n="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){n=defaultClearTimeout}}();var o,a=[],r=!1,l=-1;function cleanUpNextTick(){r&&o&&(r=!1,o.length?a=o.concat(a):l=-1,a.length&&drainQueue())}function drainQueue(){if(!r){var e=runTimeout(cleanUpNextTick);r=!0;for(var t=a.length;t;){for(o=a,a=[];++l<t;)o&&o[l].run();l=-1,t=a.length}o=null,r=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===defaultClearTimeout||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];a.push(new Item(e,t)),1!==a.length||r||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=noop,s.addListener=noop,s.once=noop,s.off=noop,s.removeListener=noop,s.removeAllListeners=noop,s.emit=noop,s.prependListener=noop,s.prependOnceListener=noop,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},,,function(e,t,i){moment.tz.setDefault("America/New_York"),floorcast=i(152),i(185),i(184),i(187),i(186),i(164),i(174),i(151),i(173),i(136),i(137),i(135),i(167),i(166),i(165),i(145),i(147),i(143),i(140),i(150),i(148),i(142),i(141),i(149),i(139),i(146),i(144),i(138),i(170),i(172),i(171),i(168),i(169),i(175),i(176),i(183),i(179),i(180),i(178),i(177),i(181),i(182),i(153),i(155),i(163),i(161),i(158),i(159),i(156),i(157),i(162),i(160),i(154),i(188),i(133)}]),[208]);